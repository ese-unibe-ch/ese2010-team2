#{extends 'main.html' /}
#{set title:'ESE KB - Search' /}
<a href="/">back</a>
<form action="@{Application.Search()}" method="GET">
	<br>
	<input type="text" name="text" value="${text}"><input type="submit" value="Search" /><br>
	<p>Order: QuestionTags-->QuestionContent-->AnswerContent-->Comments</p>
	<br>
	<br>
</form>
<h3>${message}</h3>

<h2>Questions with matching tags</h2>
#{list items:questionTagResults, as:'question'}
	#{question question:question /}
#{/list}

<h2>Questions with matching content</h2>
#{list items:questionContentResults, as:'question'}
	#{question question:question /}
#{/list}

<h2>Answers with matching content</h2>
#{list items:answerContentResults, as:'answer'}
	#{answer answer:answer, question:answer.getQuestion() /}
#{/list}

<h2>Comments with matching content</h2>
#{list items:commentResults, as:'comment'}
<fieldset>
	<p>${comment.getContent()}</p>
	<p>by ${comment.getOwner()}</p>
	<br>
	<a href="@{Application.showAnswers(comment.getCommentedVotable().getId())}"/><h6>-->Link to Commented Question/Answer</h4></a>
	<legend class="question" align="bottom">Comment / ${comment.getDate()}</legend>
</fieldset>
#{/list}
