<?xml version="1.0" ?><QA><users><user id="277826"><displayname>sdaau</displayname><age>-1</age><ismoderator>false</ismoderator><email>sdaau@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="20270"><displayname>Hasturkun</displayname><age>26</age><ismoderator>false</ismoderator><email>Hasturkun@gmail.com</email><password>secret</password><aboutme></aboutme><location>Israel</location><website>Israel</website></user><user id="23744"><displayname>camh</displayname><age>-1</age><ismoderator>false</ismoderator><email>camh@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="26428"><displayname>Dennis Williamson</displayname><age>-1</age><ismoderator>false</ismoderator><email>Dennis Williamson@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;I am the first user &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;to earn at least 10,000&lt;br/&gt;
&amp;nbsp; reputation points each&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;a href="http://serverfault.com/users/1293/dennis-williamson" title="Server Fault"&gt;&lt;img src="http://netstrata.com/images/stackathlon10k.png" width="50"&gt;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href="http://stackoverflow.com/users/26428/dennis-williamson" title="Stack Overflow"&gt;&lt;img src="http://netstrata.com/images/stackathlon10k.png" width="50"&gt;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href="http://superuser.com/users/310/dennis-williamson" title="Super User"&gt;&lt;img src="http://netstrata.com/images/stackathlon10k.png" width="50"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;on &lt;strong&gt;&lt;em&gt;all three&lt;/em&gt;&lt;/strong&gt; of&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;Stack Overflow, &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Server Fault and &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Super User.&lt;/strong&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Please participate in my &lt;strong&gt;&lt;a href="http://area51.stackexchange.com/proposals/12179/graphics-software?referrer=KB_h1kXMVzmuisIhtHJ5Dw2"&gt;site proposal for Graphics Software&lt;/a&gt;&lt;/strong&gt; at Area 51.&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;&lt;strong&gt;Are you a Stackathlete?&lt;/strong&gt;&lt;/h1&gt;

&lt;h1&gt;&lt;strong&gt;Check the standings on&lt;/strong&gt;&lt;br /&gt;&lt;/h1&gt;

&lt;p&gt;&lt;a href="http://stackathlon.appspot.com" rel="nofollow"&gt;&lt;img src="http://netstrata.com/images/stackathlonlogo.png" width="300"&gt; &lt;img src="http://netstrata.com/images/stackathlon10k.png" width="50"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Profile: I'm a Unix/Linux sysadmin&lt;/p&gt;
</aboutme><location>US</location><website>US</website></user><user id="67022"><displayname>bstpierre</displayname><age>35</age><ismoderator>false</ismoderator><email>bstpierre@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;Hey&lt;/p&gt;
</aboutme><location>US</location><website>US</website></user><user id="67829"><displayname>David Dean</displayname><age>29</age><ismoderator>false</ismoderator><email>David Dean@gmail.com</email><password>secret</password><aboutme></aboutme><location>Brisbane, Australia</location><website>Brisbane, Australia</website></user><user id="69307"><displayname>anon</displayname><age>-1</age><ismoderator>false</ismoderator><email>anon@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;this user asked for their account to be anonymized&lt;/p&gt;
</aboutme><location></location><website></website></user><user id="103167"><displayname>Ben Voigt</displayname><age>28</age><ismoderator>false</ismoderator><email>Ben Voigt@gmail.com</email><password>secret</password><aboutme></aboutme><location>Houston, TX</location><website>Houston, TX</website></user><user id="104596"><displayname>mpe</displayname><age>-1</age><ismoderator>false</ismoderator><email>mpe@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="130641"><displayname>John Ledbetter</displayname><age>-1</age><ismoderator>false</ismoderator><email>John Ledbetter@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;Software Engineer&lt;/p&gt;
</aboutme><location>Hilton Head, SC</location><website>Hilton Head, SC</website></user><user id="236455"><displayname>Fraser Graham</displayname><age>32</age><ismoderator>false</ismoderator><email>Fraser Graham@gmail.com</email><password>secret</password><aboutme>I have worked in video game development for nearly ten years for three major companies including Microsoft and Disney. I have covered areas ranging from low level engine development and 3D rendering to web based infrastructure tools and art workflows.

Currently i'm having fun with Django and JQuery but my roots are in C and C++. 
</aboutme><location>Salt Lake City</location><website>Salt Lake City</website></user><user id="324528"><displayname>ipeet</displayname><age>21</age><ismoderator>false</ismoderator><email>ipeet@gmail.com</email><password>secret</password><aboutme></aboutme><location>Canada</location><website>Canada</website></user><user id="354803"><displayname>ShinTakezou</displayname><age>32</age><ismoderator>false</ismoderator><email>ShinTakezou@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;Languages I frequented someway or have installed on my system: C, Objective-C, Fortran, Perl, Python, AWK, Bash, C++, Java, m68k, x86, MMIX, Octave, R, Sather, Smalltalk, Pascal, AmigaE, PHP, Metafont, Postscript, (A)REXX, Haskell, cLisp/Scheme(guile), Prolog, M4, Ada, OCaml, REBOL, Erlang, Oz, Algol68, J, Ruby, forth, haXe, MIPS(spim), Lua, C#, Tcl in no particular order.&lt;/p&gt;

&lt;p&gt;My mother tongue is not english (likely it's clear!)&lt;/p&gt;

&lt;p&gt;My most used nick is ShinTakezou which is a compound made of Shin+Takezou that is: new (in japanese) Takezou, i.e. Miyamoto Musashi (I've read Yoshikawa's book and liked it, and because once I was fond of japanese culture and language).&lt;/p&gt;

&lt;hr/&gt;

&lt;p&gt;Imagination is more important than knowledge.&lt;/p&gt;
</aboutme><location>Italy</location><website>Italy</website></user><user id="366377"><displayname>Jens Gustedt</displayname><age>-1</age><ismoderator>false</ismoderator><email>Jens Gustedt@gmail.com</email><password>secret</password><aboutme></aboutme><location>Nancy France</location><website>Nancy France</website></user><user id="371250"><displayname>ninjalj</displayname><age>-1</age><ismoderator>false</ismoderator><email>ninjalj@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="382186"><displayname>Chance</displayname><age>-1</age><ismoderator>false</ismoderator><email>Chance@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="430719"><displayname>Bart van Ingen Schenau</displayname><age>34</age><ismoderator>false</ismoderator><email>Bart van Ingen Schenau@gmail.com</email><password>secret</password><aboutme></aboutme><location>Netherlands</location><website>Netherlands</website></user><user id="448275"><displayname>trevor</displayname><age>-1</age><ismoderator>false</ismoderator><email>trevor@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="464709"><displayname>Frédéric Hamidi</displayname><age>34</age><ismoderator>false</ismoderator><email>Frédéric Hamidi@gmail.com</email><password>secret</password><aboutme></aboutme><location>France</location><website>France</website></user><user id="471272"><displayname>tchrist</displayname><age>47</age><ismoderator>false</ismoderator><email>tchrist@gmail.com</email><password>secret</password><aboutme></aboutme><location>Boulder, Colorado</location><website>Boulder, Colorado</website></user><user id="3719"><displayname>Daemin</displayname><age>27</age><ismoderator>false</ismoderator><email>Daemin@gmail.com</email><password>secret</password><aboutme>At work I'm a C++ Windows programmer for Windows XP+ and Windows CE. Also use Ruby for scripting and various tools.
At home I dabble in C++, C# (XNA), Lisp, and Ruby.</aboutme><location>AU</location><website>AU</website></user><user id="4086"><displayname>Ferruccio</displayname><age>-1</age><ismoderator>false</ismoderator><email>Ferruccio@gmail.com</email><password>secret</password><aboutme>
</aboutme><location>Sharon, MA</location><website>Sharon, MA</website></user><user id="4761"><displayname>DGentry</displayname><age>40</age><ismoderator>false</ismoderator><email>DGentry@gmail.com</email><password>secret</password><aboutme>Embedded Software engineer and general curmudgeon.&lt;br/&gt;

Coding blog: &lt;a href="http://codingrelic.geekhold.com/" rel="nofollow"&gt;Coding Relic&lt;/a&gt;&lt;br/&gt;

Twitter: &lt;a href="http://twitter.com/dgentry" rel="nofollow"&gt;dgentry&lt;/a&gt;&lt;br/&gt;

Random stuff: &lt;a href="http://jetsam.geekhold.com/" rel="nofollow"&gt;Flotsam &amp; Jetsam&lt;/a&gt;&lt;br/&gt;</aboutme><location>Fremont, California</location><website>Fremont, California</website></user><user id="5987"><displayname>Mark Ransom</displayname><age>-1</age><ismoderator>false</ismoderator><email>Mark Ransom@gmail.com</email><password>secret</password><aboutme>I've been a software developer for a lot longer than I'm willing to admit.  My current interests are C++ and Python on Windows, but I've been known to dabble in Linux and I try to be language agnostic when I can.</aboutme><location>Minneapolis area, MN, USA</location><website>Minneapolis area, MN, USA</website></user><user id="8454"><displayname>Andy Lester</displayname><age>43</age><ismoderator>false</ismoderator><email>Andy Lester@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;I've been a programmer for over two decades.  I work in Perl and a big pile of legacy PHP.&lt;/p&gt;

&lt;p&gt;My book &lt;a href="http://theworkinggeek.com/book" rel="nofollow"&gt;Land the Tech Job You Love&lt;/a&gt; is available from Pragmatic Bookshelf.&lt;/p&gt;

&lt;p&gt;My Perl news blog is &lt;a href="http://perlbuzz.com" rel="nofollow"&gt;Perlbuzz&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;My blog about tech life, including job hunting, is &lt;a href="http://techworklove.com" rel="nofollow"&gt;Tech Work Love&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;AIM: petdance&lt;/p&gt;

&lt;p&gt;Twitter: &lt;a href="http://twitter.com/" rel="nofollow"&gt;petdance&lt;/a&gt;, &lt;a href="http://twitter.com/perlbuzz" rel="nofollow"&gt;perlbuzz&lt;/a&gt; and &lt;a href="http://twitter.com/techworklove" rel="nofollow"&gt;techworklove&lt;/a&gt;&lt;/p&gt;
</aboutme><location>McHenry, IL</location><website>McHenry, IL</website></user><user id="8559"><displayname>Thevs</displayname><age>51</age><ismoderator>false</ismoderator><email>Thevs@gmail.com</email><password>secret</password><aboutme>Just Programmer</aboutme><location>LT</location><website>LT</website></user><user id="8877"><displayname>Dan</displayname><age>44</age><ismoderator>false</ismoderator><email>Dan@gmail.com</email><password>secret</password><aboutme>Slinging code since 1984.</aboutme><location>Whitmore Lake, MI (USA)</location><website>Whitmore Lake, MI (USA)</website></user><user id="9936"><displayname>Martin Cote</displayname><age>-1</age><ismoderator>false</ismoderator><email>Martin Cote@gmail.com</email><password>secret</password><aboutme></aboutme><location>Montreal</location><website>Montreal</website></user><user id="11157"><displayname>mxg</displayname><age>52</age><ismoderator>false</ismoderator><email>mxg@gmail.com</email><password>secret</password><aboutme></aboutme><location>Soquel, CA</location><website>Soquel, CA</website></user><user id="11698"><displayname>Richard Corden</displayname><age>36</age><ismoderator>false</ismoderator><email>Richard Corden@gmail.com</email><password>secret</password><aboutme>Senior Software Engineer with Programming Research.  Main project is QA C++ a static analysis tool for C++.

Any opinions expressed here are my own and are not that of my company.
</aboutme><location>Spain</location><website>Spain</website></user><user id="12711"><displayname>Michael Burr</displayname><age>-1</age><ismoderator>false</ismoderator><email>Michael Burr@gmail.com</email><password>secret</password><aboutme>Email: burr.overflow&amp;#64;mailnull.com
&lt;br/&gt;&lt;br/&gt;
Blog:
&lt;ul&gt;
&lt;li&gt;
&lt;a href="http://blog.nth-element.com/" rel="nofollow"&gt;
nth-element
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;br/&gt;
CV:
&lt;ul&gt;
&lt;li&gt;
&lt;a href="http://careers.stackoverflow.com/mburr" rel="nofollow"&gt;
http://careers.stackoverflow.com/mburr
&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://www.linkedin.com/in/mwburr" rel="nofollow"&gt;
http://www.linkedin.com/in/mwburr
&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;


</aboutme><location>Seattle, WA</location><website>Seattle, WA</website></user><user id="13029"><displayname>Andrew Stein</displayname><age>-1</age><ismoderator>false</ismoderator><email>Andrew Stein@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="18505"><displayname>unforgiven3</displayname><age>26</age><ismoderator>false</ismoderator><email>unforgiven3@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;I'm a software consultant in NY, specializing in WPF/.NET.
&lt;br/&gt;
&lt;br/&gt;
I'm also the developer of &lt;a href="http://www.chordfusion.com" rel="nofollow"&gt;ThreadFusion for C#&lt;/a&gt;, a design tool to aid in the development of multithreaded software.&lt;/p&gt;
</aboutme><location>US</location><website>US</website></user><user id="19404"><displayname>Gerald</displayname><age>37</age><ismoderator>false</ismoderator><email>Gerald@gmail.com</email><password>secret</password><aboutme></aboutme><location>Miami</location><website>Miami</website></user><user id="25071"><displayname>Jimmy</displayname><age>24</age><ismoderator>false</ismoderator><email>Jimmy@gmail.com</email><password>secret</password><aboutme></aboutme><location>Redmond, WA</location><website>Redmond, WA</website></user><user id="25222"><displayname>Robert Gamble</displayname><age>29</age><ismoderator>false</ismoderator><email>Robert Gamble@gmail.com</email><password>secret</password><aboutme>Professional software engineer currently focused mainly in C, Perl, Ruby, Java, Linux/UNIX, databases, and networking.&lt;br/&gt;
&lt;br/&gt;
&lt;strong&gt;email: &lt;/strong&gt; rgamble99@gmail.com</aboutme><location>Philadelphia, PA</location><website>Philadelphia, PA</website></user><user id="50049"><displayname>Tim Post</displayname><age>35</age><ismoderator>false</ismoderator><email>Tim Post@gmail.com</email><password>secret</password><aboutme>I'm a kernel &amp; virtualization enthusiast fluent in C who also dabbles in other languages. When not programming, I enjoy photography and different fields of research.
&lt;br&gt;&lt;br&gt;
Most of my paid (and free) time goes into creating or modifying free / open source software. I maintain a &lt;a href="http://echoreply.us/tech/" rel="nofollow"&gt;blog&lt;/a&gt;, but am far from faithful when it comes to finding time to write.
&lt;br&gt;&lt;br&gt;
If you need to contact me, you can usually find me in #stackoverflow on irc.freenode.net as tinkertim. If you need to discuss something outside of IRC, Skype is the most reliable way to reach me @ tim_post.</aboutme><location>Mandaluyong, Philippines / Baltimore, MD</location><website>Mandaluyong, Philippines / Baltimore, MD</website></user><user id="62365"><displayname>Diego Sevilla</displayname><age>35</age><ismoderator>false</ismoderator><email>Diego Sevilla@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="84538"><displayname>jon hanson</displayname><age>-1</age><ismoderator>false</ismoderator><email>jon hanson@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;C++/Java architect/developer, currently working in F#.&lt;/p&gt;
</aboutme><location>london</location><website>london</website></user><user id="95382"><displayname>Michael Krelin - hacker</displayname><age>37</age><ismoderator>false</ismoderator><email>Michael Krelin - hacker@gmail.com</email><password>secret</password><aboutme></aboutme><location>Hamburg, Germany</location><website>Hamburg, Germany</website></user><user id="127565"><displayname>bdk</displayname><age>-1</age><ismoderator>false</ismoderator><email>bdk@gmail.com</email><password>secret</password><aboutme></aboutme><location>NJ</location><website>NJ</website></user><user id="131527"><displayname>ghostdog74</displayname><age>-1</age><ismoderator>false</ismoderator><email>ghostdog74@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="134633"><displayname>caf</displayname><age>-1</age><ismoderator>false</ismoderator><email>caf@gmail.com</email><password>secret</password><aboutme></aboutme><location>Australia</location><website>Australia</website></user><user id="147336"><displayname>fnieto</displayname><age>31</age><ismoderator>false</ismoderator><email>fnieto@gmail.com</email><password>secret</password><aboutme></aboutme><location>Dublin, Ireland</location><website>Dublin, Ireland</website></user><user id="310574"><displayname>Gabe</displayname><age>-1</age><ismoderator>false</ismoderator><email>Gabe@gmail.com</email><password>secret</password><aboutme></aboutme><location></location><website></website></user><user id="377270"><displayname>sarnold</displayname><age>32</age><ismoderator>false</ismoderator><email>sarnold@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;Paranoid pragmatic security type. Check out AppArmor.&lt;/p&gt;
</aboutme><location>Lake Oswego, OR, USA</location><website>Lake Oswego, OR, USA</website></user><user id="388367"><displayname>integer</displayname><age>-1</age><ismoderator>false</ismoderator><email>integer@gmail.com</email><password>secret</password><aboutme>&lt;p&gt;ass burgers&lt;/p&gt;
</aboutme><location>norway</location><website>norway</website></user></users><questions><question id="4180081"><ownerid>277826</ownerid><creationdate>1289773900</creationdate><lastactivity>1289796239</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Say I have generated the following binary file: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;# generate file:python -c 'import sys;[sys.stdout.write(chr(i)) for i in (0,0,0,0,2,4,6,8,0,1,3,0,5,20)]' &amp;gt; mydata.bin# get file size in bytesstat -c '%s' mydata.bin# 14&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... and say, I want to find the locations of all zeroes (&lt;code&gt;0x00&lt;/code&gt;), using a grep-like syntax. &lt;/p&gt;&lt;p&gt;&amp;nbsp;    &lt;/p&gt;&lt;p&gt;The best I can do so far is: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ hexdump -v -e "1/1 \" %02x\n\"" mydata.bin | grep -n '00'1: 002: 003: 004: 009: 0012: 00&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... however, this implicitly converts each byte in the original binary file into a multi-byte ASCII representation, on which &lt;code&gt;grep&lt;/code&gt; operates; not exactly the prime example of optimization :) &lt;/p&gt;&lt;p&gt;&amp;nbsp;    &lt;/p&gt;&lt;p&gt;So I was wandering - is there something like a binary &lt;code&gt;grep&lt;/code&gt; for Linux? Possibly, also, something that would support regex-like syntax, but also for byte "characters" - i.e., I could write something like '&lt;code&gt;a(\x00*)b&lt;/code&gt;' and match 'zero or more' occurrences of byte 0 between bytes 'a' (97) and 'b' (98)? &lt;/p&gt;&lt;p&gt;Thanks for any comments,&lt;br&gt;Cheers! &lt;/p&gt;&lt;p&gt;EDIT: The context is that I'm working on a driver, where I capture 8-bit data; something goes wrong in the data, which can be kilobytes up to megabytes, and I'd like to check for particular signatures and where they occur. (&lt;em&gt;so far, I'm working with kilobyte snippets, so optimization is not that important - but if I start getting some errors in megabyte long captures, and I need to analyze those, my guess is I would like something more optimized :) . And especially, I'd like something where I can "grep" for a byte as a character - &lt;code&gt;hexdump&lt;/code&gt; forces me to search strings per byte&lt;/em&gt;)  &lt;/p&gt;&lt;p&gt;EDIT2: same question, different forum :) &lt;a href="http://www.linuxquestions.org/questions/linux-software-2/grepping-through-a-binary-file-for-a-sequence-of-bytes-717503/" rel="nofollow"&gt;grepping through a binary file for a sequence of bytes&lt;/a&gt;&lt;/p&gt;</body><title>Linux: Binary grep?</title><lastedit>1289783426</lastedit><acceptedanswer>4180510</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">binary</tag><tag id="2">grep</tag></tags></question><question id="4119991"><ownerid>277826</ownerid><creationdate>1289168092</creationdate><lastactivity>1289213340</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Lets say I have a script, "&lt;code&gt;myscript.sh&lt;/code&gt;", with contents being simply &lt;code&gt;echo $PWD&lt;/code&gt;. I'd like to bind somehow this script to a key combo in &lt;code&gt;bash&lt;/code&gt; (&lt;code&gt;gnome-terminal&lt;/code&gt;) - so that when I press this key combination, the output of "&lt;code&gt;myscript.sh&lt;/code&gt;" is inserted ("pasted") at the cursor position in the terminal. &lt;/p&gt;&lt;p&gt;Apparently, &lt;code&gt;bash&lt;/code&gt; history and line manipulation is handled by &lt;a href="http://en.wikipedia.org/wiki/Readline" rel="nofollow"&gt;readline&lt;/a&gt; - and the references I got for &lt;code&gt;bash&lt;/code&gt; keyboard shortcuts, do reference &lt;code&gt;readline&lt;/code&gt;: &lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://ss64.com/bash/syntax-keyboard.html" rel="nofollow"&gt;bash keyboard shortcuts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.faqs.org/docs/bashman/bashref_93.html" rel="nofollow"&gt;Bash Reference Manual: Bindable Readline Commands&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;I've also seen in &lt;a href="http://www.faqs.org/docs/bashman/bashref_90.html" rel="nofollow"&gt;Bash Reference Manual: Readline Init File Syntax&lt;/a&gt; that the key bindings for &lt;code&gt;bash&lt;/code&gt; can be listed by using &lt;code&gt;bind -p&lt;/code&gt; (&lt;em&gt;see &lt;code&gt;help bind&lt;/code&gt; [not 'man bind'] for more&lt;/em&gt;). So maybe this question would better be titled as "_binding macros to custom keyboard shortcuts in &lt;code&gt;readline&lt;/code&gt;" :) But in any case, is what I want possible to do? &lt;/p&gt;&lt;p&gt;I guess an alternative would be to have the script be something like "&lt;code&gt;pwd | xsel -b&lt;/code&gt;", and then I call it on terminal - and I can paste afterwards; but I'd still like a single keyboard shortcut instead, say like Ctrl-Alt-H (which seems to be not used for anything), which will immediately insert/paste script output when pressed. &lt;/p&gt;&lt;p&gt;Thanks in advance,&lt;br&gt;Cheers!&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;br&gt;EDIT: Just to clarify - here is my use case where I'd like this facility. I'm usually &lt;code&gt;cd&lt;/code&gt;'d in a project folder, usually named something like &lt;code&gt;myproject-folder-0012a&lt;/code&gt;, which is under revision control by &lt;code&gt;svn&lt;/code&gt;. And there is a bunch of these folders. So quite often, I do commits where the first word of the message is the directory name, as in:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;svn ci -m "myproject-folder-0012a: here a commit message"&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But that is what I don't like - first I type 11 characters, which go rather fast: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;svn ci -m "&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And then, I cannot use autocompletion to get the name (i'm inside the folder) - which means I either have to fully type it (&lt;em&gt;no way :)&lt;/em&gt;), or I copy paste it from the prompt (which requires selection - press mouse, drag, release mouse; then Ctrl+Shift+C, and then Ctrl+Shift+V, plus any left/right keys if I miss allignment - plus deletions and such if I make the copy wrong). &lt;/p&gt;&lt;p&gt;Meaning - so much work, just to get the bloody folder name for a bloody commit message :( I'd MUCH rather press something like (say) Ctrl-Alt-H, and have the folder name automatically inserted at cursor position, and be done with it :) &lt;/p&gt;&lt;p&gt;My suggestion for &lt;code&gt;xsel&lt;/code&gt; is only because I could put it into a "global" script - say symlink it as &lt;code&gt;/usr/bin/myscript&lt;/code&gt; (&lt;em&gt;and obviously, the contents of the script are &lt;code&gt;echo $(basename $PWD)&lt;/code&gt; rather than just &lt;code&gt;pwd&lt;/code&gt; for my needs&lt;/em&gt;), and then I could do: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ myscript       # this puts directory name in clipboard$ svn ci -m "[CTRL+SHIFT+V TO PASTE HERE]myproject-folder-0012a[NOW TYPE]: here a commit message"&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... which sort of makes the workload less, but still - then I have to remember what the script name is, and call it, &lt;strong&gt;before&lt;/strong&gt; I type the &lt;code&gt;svn&lt;/code&gt; command (and I don't always remember that)... And still - I have to call a command, and then press a key combo; why shouldn't I just press a key combo once, and be done with it ??! :) &lt;/p&gt;&lt;p&gt;Well, hope this clarifies my problem a bit better .... &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;br&gt;EDIT2: However, another reason why a &lt;code&gt;bash&lt;/code&gt; keyboard shortcut would be useful, is that then I could also "paste/insert current directory name" not only in shell commands - but also in terminal programs, say like &lt;code&gt;nano&lt;/code&gt; (&lt;em&gt;where it would, arguably, be more difficult to use &lt;code&gt;bash&lt;/code&gt; script or function expansion directly&lt;/em&gt;).&lt;/p&gt;</body><title>Bash: call script with customized keyboard shortcuts?</title><lastedit>1289176685</lastedit><acceptedanswer>4120926</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">bash</tag><tag id="2">keyboard-shortcuts</tag><tag id="3">readline</tag><tag id="4">customize</tag></tags></question><question id="4118207"><ownerid>277826</ownerid><creationdate>1289141038</creationdate><lastactivity>1289141538</lastactivity><body>&lt;p&gt;OK, this is my problem: &lt;/p&gt;&lt;p&gt;I use a virtual machine with a debug kernel, so I can connect to a local instance of &lt;code&gt;gdb&lt;/code&gt;, and can debug kernel modules. The modules are compiled with debug info on, and this specifies folders where the source of the modules is kept (&lt;a href="http://stackoverflow.com/questions/1579443/instruct-gdb-6-5-to-use-source-embedded-in-object-file"&gt;Instruct GDB 6.5 to use source embedded in object file - Stack Overflow&lt;/a&gt;). I have the source directories in the same path(s) in both VM and local machine. &lt;/p&gt;&lt;p&gt;The problem is this - I need to do quite a bit of steps in order to get the module to segfault - and the remote gdb to go into the stack. Then I do a backtrace, and I can see the source files referenced, i.e. &lt;/p&gt;&lt;pre&gt;&lt;code&gt;#0  0xc0132a13 in ?? ()#1  0xc056e551 in ?? ()#2  0xc056e506 in ?? ()#3  0xd8be53f3 in mymodule_func1 (var1=0xd79f9b44, var2=0x0, var3=825269148)    at /media/src/mymodule.h:954#4  0xd8be53d0 in mymodule_func2 (data=3617561412)    at /media/src/mymodule.h:936#5  0xc014fe87 in ?? ()#6  0xc0151478 in ?? ()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then I try to do say, &lt;code&gt;list /media/src/mymodule.h:954&lt;/code&gt; - and I realize that I have changed stuff on the local version of &lt;code&gt;mymodule.h&lt;/code&gt; file!! &lt;/p&gt;&lt;p&gt;So I undo the changes - but unfortunately, GDB does not see these changes! And, of course, I don't want to restart GDB - because that means I have to restart the VM, and go through the entire procedure in order to get the kernel module to segfault again :( !!&lt;/p&gt;&lt;p&gt;Then I try to do something like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;(gdb) show symbol-reloadingDynamic symbol table reloading multiple times in one run is off.(gdb) set symbol-reloading on(gdb) add-symbol-file ~/mymodule.o 0xd8be4000add symbol table from file "/media/src/mymodule.o" at    .text_addr = 0xd8be4000(y or n) yReading symbols from /media/src/mymodule.o...done.&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... in hope that it will somehow "reload" the source files - but unfortunately, &lt;code&gt;list /media/src/mymodule.h:954&lt;/code&gt; shows that it doesn't, nothing is changed - even though &lt;code&gt;gdb&lt;/code&gt; &lt;strong&gt;does&lt;/strong&gt; recognize that something has changed, as in &lt;code&gt;warning: Source file is more recent than executable.&lt;/code&gt;... (&lt;sup&gt;&lt;sub&gt;so, for the time being, I have to restart entire VM and &lt;code&gt;gdb&lt;/code&gt; as well :( :(  &lt;/sub&gt;&lt;/sup&gt;)&lt;/p&gt;&lt;p&gt;So my &lt;strong&gt;question&lt;/strong&gt; is - is there a command in &lt;code&gt;gdb&lt;/code&gt;, that I can use to (re)load / "refresh" source files? (&lt;em&gt;as far as I can see, &lt;code&gt;gdb&lt;/code&gt; works only with source &lt;strong&gt;directories&lt;/strong&gt;, &lt;a href="http://davis.lbl.gov/Manuals/GDB/gdb_8.html" rel="nofollow"&gt;Debugging with GDB: Source&lt;/a&gt; - and there is no specific command to "refresh"&lt;/em&gt;)&lt;/p&gt;&lt;p&gt;Thanks in advance,&lt;br&gt;Cheers!&lt;/p&gt;</body><title>GDB - 'reload' source files</title><lastedit>1289141538</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">gdb</tag><tag id="1">linux-kernel</tag><tag id="2">source</tag><tag id="3">reload</tag></tags></question><question id="4036743"><ownerid>277826</ownerid><creationdate>1288206519</creationdate><lastactivity>1288207390</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Trying to write a Lua script for Scite (something like &lt;a href="http://lua-users.org/wiki/SciteCommentBox" rel="nofollow"&gt;lua-users wiki: Scite Comment Box&lt;/a&gt;), and when I write the following piece of code:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;fchars = string.sub(line, 1, 3)if fchars == "//" or fchars == "##"   print "got it"end &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... the compilation fails with "&lt;code&gt;attempt to call a string value&lt;/code&gt;". &lt;/p&gt;&lt;p&gt;I have tried different variants, such as:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;assert(ktest = (("//" == fchars) or ("##" == fchars)))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... and it seems to me that compilation fails when I try to make a 'compound' boolean expression using the &lt;a href="http://www.lua.org/manual/5.0/manual.html#2.5.3" rel="nofollow"&gt;logical operator&lt;/a&gt; "&lt;code&gt;or&lt;/code&gt;". &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;So, how would I do the above check in Lua? Maybe the C-like syntax as above is not supported at all - and I should use something like &lt;a href="http://www.lua.org/manual/5.1/manual.html#pdf-string.match" rel="nofollow"&gt;match&lt;/a&gt; instead? &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;Thanks in advance for any answers,&lt;br&gt;Cheers!&lt;/p&gt;</body><title>Scite Lua: string comparison raises "attempt to call a string value"?</title><lastedit>-1</lastedit><acceptedanswer>4036877</acceptedanswer><tags><tag id="0">lua</tag></tags></question><question id="4025320"><ownerid>277826</ownerid><creationdate>1288107521</creationdate><lastactivity>1288202745</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I've been working with a userland program &lt;code&gt;writeread.c&lt;/code&gt; (referred &lt;a href="http://stackoverflow.com/questions/3701955/serial-port-loopback-duplex-test-in-bash-or-c-process-substitution"&gt;here&lt;/a&gt;), utilizing the &lt;code&gt;ftdi_sio&lt;/code&gt; Linux driver.&lt;/p&gt;&lt;p&gt;I had worked with the default &lt;code&gt;ftdi_sio&lt;/code&gt; that comes with Ubuntu Lucid that I use - and then, as a sanity check, decided to rebuild &lt;code&gt;ftdi_sio&lt;/code&gt; from source. I did not want to download the entire kernel source, so I opted for so called "building out-of-tree modules":&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://www.cyberciti.biz/tips/build-linux-kernel-module-against-installed-kernel-source-tree.html" rel="nofollow"&gt;Howto: Build Linux Kernel Module Against Installed Kernel w/o Full Kernel Source Tree&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://kernel-handbook.alioth.debian.org/ch-common-tasks.html#s-common-out-of-tree" rel="nofollow"&gt;Debian Linux Kernel Handbook - Common kernel-related tasks: Building out-of-tree kernel modules&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://fedoraproject.org/wiki/Docs/CustomKernel#Building_Only_Kernel_Modules_.28Out_Of_Tree_Modules.29" rel="nofollow"&gt;Building a custom kernel - FedoraProject: Building Only Kernel Modules (Out Of Tree Modules)&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;... which means you can only have installed &lt;code&gt;linux-headers-*&lt;/code&gt; packages (instead of having entire &lt;code&gt;linux-source-*&lt;/code&gt; installed) - and the respective kernel module source - in order to build a kernel module. &lt;/p&gt;&lt;p&gt;So, I basically got the following files in a folder:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio.c" rel="nofollow"&gt;ftdi_sio.c&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio.h" rel="nofollow"&gt;ftdi_sio.h&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio_ids.h" rel="nofollow"&gt;ftdi_sio_ids.h&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Makefile (included below) &lt;/li&gt;&lt;/ul&gt;&lt;p&gt;and ran &lt;code&gt;make&lt;/code&gt; - and a &lt;code&gt;ftdi_sio.ko&lt;/code&gt; kernel objects compiles, which also can be &lt;code&gt;insmod&lt;/code&gt;-ed without a problem. &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;The problem is now here - as long as I work with low speeds (115200 bps), there is &lt;em&gt;no observable difference&lt;/em&gt; between: loading the 'vanilla' driver (&lt;em&gt;using &lt;code&gt;sudo modprobe ftdi_sio&lt;/code&gt;&lt;/em&gt;); and loading the newly built driver (&lt;em&gt;using &lt;code&gt;sudo modprobe usbserial; sudo insmod /path/to/ftdi_sio.ko&lt;/code&gt;&lt;/em&gt;) - in respect to the performance of the userland program (&lt;code&gt;writeread.c&lt;/code&gt;).&lt;/p&gt;&lt;p&gt;However, if I try the same at 2000000 bps, then the 'vanilla' driver works fine -  while the build driver causes a &lt;strong&gt;segfault&lt;/strong&gt; of the userland program (&lt;code&gt;writeread.c&lt;/code&gt;). In particular, this segfault happened at &lt;code&gt;free()&lt;/code&gt;-ing memory resources - because the driver would end up reading &lt;em&gt;more&lt;/em&gt; bytes from the loopback connection, than it itself would write! However, that in itself is not that relevant for this discussion, because I finally found a way to get the built &lt;code&gt;ftdi_sio&lt;/code&gt; to work (&lt;em&gt;Edit: just noticed that a similar procedure is also given in &lt;a href="http://stackoverflow.com/questions/2237871/external-linux-kernel-module-dependencies/2238581#2238581"&gt;External Linux kernel module dependencies R#2238581 - Stack Overflow&lt;/a&gt;&lt;/em&gt;): &lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ sudo modprobe -r ftdi_sio # remove 'vanilla' driver from memory ...# build the driver$ cd /path/to/ftdi_sio_2.6.32/$ make clean &amp;amp;&amp;amp; make # check vanilla version$ ls -la /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko-rw-r--r-- 1 root root 102396 2010-10-17 01:47 /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko# (re)move the 'vanilla' kernel object$ sudo mv /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko ~/Desktop/ftdi_sio_orig.ko  # symlink our built version, as if it is the 'vanilla' one$ sudo ln -s /path/to/ftdi_sio_2.6.32/ftdi_sio.ko /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/# check $ ls -la /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.kolrwxrwxrwx 1 root root 57 2010-10-26 12:49 /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko -&amp;gt; /path/to/ftdi_sio_2.6.32/ftdi_sio.ko# call depmod$ sudo depmod# !! plug in USB at this point, built driver autoloads;# however, running `writeread.c` will segfault!# !! REBOOT at this point# after reboot:# !! plug in USB at this point, built driver autoloads;# and `writeread.c` runs without segfault&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So, my &lt;strong&gt;question&lt;/strong&gt; is: can anyone clarify to me, why - even after running &lt;code&gt;depmod&lt;/code&gt; - do I &lt;em&gt;still&lt;/em&gt; have to reboot, to have the built driver behave properly? In other words: is there any other command I could call (&lt;em&gt;maybe after &lt;code&gt;depmod&lt;/code&gt;&lt;/em&gt;), so that the driver works properly when it's loaded, &lt;em&gt;without&lt;/em&gt; rebooting? &lt;/p&gt;&lt;p&gt;The reason I'm asking, is that I suspect that upon each recompilation of the kernel module, the symbol table will change - so to ensure that it works properly, I'd have to run &lt;code&gt;depmod&lt;/code&gt; and reboot after each time the driver is built - which I think would be kind of tedious :) So, it would be nice to be able to rebuild the kernel module, and use it in the same session - without having to reboot. &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;Well, thanks in advance for any answers, &lt;/p&gt;&lt;p&gt;Cheers!!&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;Makefile:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;CONFIG_MODULE_FORCE_UNLOAD=y# flags passed to gcc for compilation - -v:verbose, -H:show include files# KBUILD_CFLAGS += -v# for debugging make itself, use --debug=i in make command for targets# debug build:EXTRA_CFLAGS=-g -O0KVERSION = $(shell uname -r)obj-m += ftdi_sio.oall:    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modulesclean:    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean&lt;/code&gt;&lt;/pre&gt;</body><title>Building out-of-tree kernel modules, depmod - and, why reboot? </title><lastedit>1288202745</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">linux-kernel</tag></tags></question><question id="3999114"><ownerid>277826</ownerid><creationdate>1287766461</creationdate><lastactivity>1287781828</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Apparently this is almost a duplicate of "&lt;a href="http://stackoverflow.com/questions/1057638/bad-pipe-filedescriptor-when-reading-from-stdin-in-python"&gt;Bad pipe filedescriptor when reading from stdin in python - Stack Overflow&lt;/a&gt;"; however, I believe this case is slightly more complicated (&lt;em&gt;and it is not Windows specific, as the conclusion of that thread was&lt;/em&gt;). &lt;/p&gt;&lt;p&gt;I'm currently trying to experiment with a simple script in Python: I'd like to supply input to the script - either through command line arguments; or by 'pipe'-ing a string to this script - and have the script show this input string using a &lt;code&gt;curses&lt;/code&gt; terminal interface. &lt;/p&gt;&lt;p&gt;The full script, here called &lt;code&gt;testcurses.py&lt;/code&gt;, is given below. The problem is that whenever I try the actual piping, that seems to mess up stdin, and the &lt;code&gt;curses&lt;/code&gt; window never shows. Here is a terminal output: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;## CASE 1: THROUGH COMMAND LINE ARGUMENT (arg being stdin):##$ ./testcurses.py -['-'] 1stdout/stdin (obj): &amp;lt;open file '&amp;lt;stdout&amp;gt;', mode 'w' at 0xb77dc078&amp;gt; &amp;lt;open file '&amp;lt;stdin&amp;gt;', mode 'r' at 0xb77dc020&amp;gt;stdout/stdin (fn): 1 0env(TERM): xterm xtermstdin_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', ... '\x00']]stdout_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', ... '\x00']]opening -obj &amp;lt;open file '&amp;lt;stdin&amp;gt;', mode 'r' at 0xb77dc020&amp;gt;TYPING blabla HEREwr TYPING blabla HEREat endbefore curses TYPING blabla HERE## AT THIS POINT:# in this case, curses window is shown, with the text 'TYPING blabla HERE'# ################## CASE 2: THROUGH PIPE#### NOTE I get the same output, even if I try syntax as in SO1057638, like:## python -c "print 'TYPING blabla HERE'" | python testcurses.py -##$ echo "TYPING blabla HERE" | ./testcurses.py -['-'] 1stdout/stdin (obj): &amp;lt;open file '&amp;lt;stdout&amp;gt;', mode 'w' at 0xb774a078&amp;gt; &amp;lt;open file '&amp;lt;stdin&amp;gt;', mode 'r' at 0xb774a020&amp;gt;stdout/stdin (fn): 1 0env(TERM): xterm xtermstdin_termios_attr &amp;lt;class 'termios.error'&amp;gt;::(22, 'Invalid argument')stdout_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', '\x1c', '\x7f', '\x15', '\x04', '\x00', '\x01', '\xff', '\x11', '\x13', '\x1a', '\xff', '\x12', '\x0f', '\x17', '\x16', '\xff', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00']]opening -obj &amp;lt;open file '&amp;lt;stdin&amp;gt;', mode 'r' at 0xb774a020&amp;gt;wr TYPING blabla HEREat endbefore curses TYPING blabla HERE## AT THIS POINT:# script simply exits, nothing is shown # ################&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As far as I can see, the issue is: - whenever we pipe strings into the Python script, the Python script loses the reference to the &lt;em&gt;terminal&lt;/em&gt; as &lt;code&gt;stdin&lt;/code&gt;, and notices that the replaced &lt;code&gt;stdin&lt;/code&gt; is not a &lt;code&gt;termios&lt;/code&gt; structure anymore - and since &lt;code&gt;stdin&lt;/code&gt; is no longer a terminal, &lt;code&gt;curses.initscr()&lt;/code&gt; exits immediately without rendering anything. &lt;/p&gt;&lt;p&gt;So, my &lt;strong&gt;question&lt;/strong&gt; is - in brief: can I somehow achieve, that the syntax &lt;code&gt;echo "blabla" | ./testcurses.py -&lt;/code&gt; ends up showing the piped string in &lt;code&gt;curses&lt;/code&gt;? More specifically: is it possible to retrieve a reference to the calling terminal's &lt;code&gt;stdin&lt;/code&gt; from a Python script, even if this script is being "piped" to? &lt;/p&gt;&lt;p&gt;Thanks in advance for any pointers, &lt;/p&gt;&lt;p&gt;Cheers! &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;PS: the &lt;code&gt;testcurses.py&lt;/code&gt; script:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python # http://www.tuxradar.com/content/code-project-build-ncurses-ui-python# http://diveintopython.org/scripts_and_streams/stdin_stdout_stderr.html# http://bytes.com/topic/python/answers/42283-curses-disable-readline-replace-stdin## NOTE: press 'q' to exit curses - Ctrl-C will screw up yer terminal# ./testcurses.py "blabla"                  # works fine (curseswin shows)# ./testcurses.py -                     # works fine, (type, enter, curseswins shows):# echo "blabla" | ./testcurses.py "sdsd"        # fails to raise curses window # # NOTE: when without pipe: termios.tcgetattr(sys.__stdin__.fileno()): [27906, 5, 1215, 35387, 15, 15, ['\x03', # NOTE: when with pipe |   : termios.tcgetattr(sys.__stdin__.fileno()): termios.error: (22, 'Invalid argument') import cursesimport sysimport osimport atexitimport termiosdef openAnything(source):                """URI, filename, or string --&amp;gt; stream    http://diveintopython.org/xml_processing/index.html#kgp.divein    This function lets you define parsers that take any input source    (URL, pathname to local or network file, or actual data as a string)    and deal with it in a uniform manner.  Returned object is guaranteed    to have all the basic stdio read methods (read, readline, readlines).    Just .close() the object when you're done with it.    """    if hasattr(source, "read"):        return source    if source == '-':        import sys        return sys.stdin    # try to open with urllib (if source is http, ftp, or file URL)    import urllib                             try:                                          return urllib.urlopen(source)         except (IOError, OSError):                    pass                                  # try to open with native open function (if source is pathname)    try:                                          return open(source)                   except (IOError, OSError):                    pass                                  # treat source as string    import StringIO                           return StringIO.StringIO(str(source)) def main(argv):    print argv, len(argv)    print "stdout/stdin (obj):", sys.__stdout__, sys.__stdin__     print "stdout/stdin (fn):", sys.__stdout__.fileno(), sys.__stdin__.fileno()    print "env(TERM):", os.environ.get('TERM'), os.environ.get("TERM", "unknown")    stdin_term_attr = 0    stdout_term_attr = 0    try:        stdin_term_attr = termios.tcgetattr(sys.__stdin__.fileno())    except:        stdin_term_attr = "%s::%s" % (sys.exc_info()[0], sys.exc_info()[1])     try:        stdout_term_attr = termios.tcgetattr(sys.__stdout__.fileno())    except:        stdout_term_attr = `sys.exc_info()[0]` + "::" + `sys.exc_info()[1]`     print "stdin_termios_attr", stdin_term_attr    print "stdout_termios_attr", stdout_term_attr    fname = ""    if len(argv):        fname = argv[0]    writetxt = "Python curses in action!"    if fname != "":        print "opening", fname        fobj = openAnything(fname)        print "obj", fobj        writetxt = fobj.readline(100) # max 100 chars read        print "wr", writetxt        fobj.close()        print "at end"    sys.stderr.write("before ")    print "curses", writetxt    try:        myscreen = curses.initscr()        #~ atexit.register(curses.endwin)    except:        print "Unexpected error:", sys.exc_info()[0]    sys.stderr.write("after initscr") # this won't show, even if curseswin runs fine    myscreen.border(0)    myscreen.addstr(12, 25, writetxt)    myscreen.refresh()    myscreen.getch()    #~ curses.endwin()    atexit.register(curses.endwin)    sys.stderr.write("after end") # this won't show, even if curseswin runs fine# run the main function - with arguments passed to script:if __name__ == "__main__":    main(sys.argv[1:])    sys.stderr.write("after main1") # these won't show either, sys.stderr.write("after main2")     #  (.. even if curseswin runs fine ..)&lt;/code&gt;&lt;/pre&gt;</body><title>Linux: Pipe into Python (ncurses) script, stdin and termios</title><lastedit>-1</lastedit><acceptedanswer>3999695</acceptedanswer><tags><tag id="0">python</tag><tag id="1">linux</tag><tag id="2">pipe</tag><tag id="3">ncurses</tag><tag id="4">termios</tag></tags></question><question id="3940973"><ownerid>277826</ownerid><creationdate>1287134690</creationdate><lastactivity>1287139603</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I'm using the following database:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;CREATE TABLE datas (d_id INTEGER PRIMARY KEY, name_id numeric, countdata numeric);INSERT INTO datas VALUES(1,1,20);  //(NULL,1,20);INSERT INTO datas VALUES(2,1,47);  //(NULL,1,47);INSERT INTO datas VALUES(3,2,36);  //(NULL,2,36);INSERT INTO datas VALUES(4,2,58);  //(NULL,2,58);INSERT INTO datas VALUES(5,2,87);  //(NULL,2,87);CREATE TABLE names (n_id INTEGER PRIMARY KEY, name text);INSERT INTO names VALUES(1,'nameA'); //(NULL,'nameA');INSERT INTO names VALUES(2,'nameB'); //(NULL,'nameB');&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;What I would like to do, is to select all values (rows) of &lt;code&gt;names&lt;/code&gt; - to which all columns of &lt;code&gt;datas&lt;/code&gt; will be appended, for the row where &lt;code&gt;datas&lt;/code&gt;.&lt;code&gt;countdata&lt;/code&gt; is maximum for &lt;code&gt;n_id&lt;/code&gt; (and of course, where &lt;code&gt;name_id = n_id&lt;/code&gt;). &lt;/p&gt;&lt;p&gt;I can somewhat get there with the following query: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; .header ONsqlite&amp;gt; SELECT * FROM names AS n1     LEFT OUTER JOIN (        SELECT d_id, name_id, countdata FROM datas AS d1         WHERE d1.countdata IN (            SELECT MAX(countdata) FROM datas             WHERE name_id=1             )         ) AS p1 ON n_id=name_id;n1.n_id|n1.name|p1.d_id|p1.name_id|p1.countdata1|nameA|2|1|472|nameB|||&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... however - obviously - it only works for a single row (the one explicitly set by &lt;code&gt;name_id=1&lt;/code&gt;).&lt;/p&gt;&lt;p&gt;The problem is, the SQL query fails whenever I try to somehow reference the "current" &lt;code&gt;n_id&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; SELECT * FROM names AS n1     LEFT OUTER JOIN (        SELECT d_id, name_id, countdata FROM datas AS d1         WHERE d1.countdata IN (            SELECT MAX(countdata) FROM datas             WHERE name_id=n1.n_id             )         ) AS p1 ON n_id=name_id;SQL error: no such column: n1.n_id&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Is there any way of achieving what I want in Sqlite2??&lt;/p&gt;&lt;p&gt;Thanks in advance, &lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;</body><title>sqlite2: Joining max values per column from another table (subquery reference)?</title><lastedit>1287135332</lastedit><acceptedanswer>3941502</acceptedanswer><tags><tag id="0">join</tag><tag id="1">subquery</tag><tag id="2">max</tag><tag id="3">sqlite2</tag></tags></question><question id="3921931"><ownerid>277826</ownerid><creationdate>1286958650</creationdate><lastactivity>1286974996</lastactivity><body>&lt;p&gt;Hi all, I am using Ubuntu 10.04, and studying programming of kernel objects. &lt;/p&gt;&lt;p&gt;I have come across some rather complicated structs which I have difficulties reading, so I thought I'd try to find some tool that can help me visualise them. &lt;/p&gt;&lt;p&gt;Only thing I could find so far is &lt;a href="http://rw4.cs.uni-sb.de/~sander/html/gsvcg1.html" rel="nofollow"&gt;VCG&lt;/a&gt;, which has a &lt;a href="http://rw4.cs.uni-sb.de/~sander/html/gsvcg6.html" rel="nofollow"&gt;C Struct Visualization Example&lt;/a&gt;, which looks like this: &lt;img src="http://img404.imageshack.us/img404/9492/structsa.gif" width="500"&gt;&lt;/p&gt;&lt;p&gt;which looks like something I'd like to use. &lt;/p&gt;&lt;p&gt;First thing, is that the last VCG packaged for Ubuntu is &lt;a href="http://packages.ubuntu.com/hardy/vcg" rel="nofollow"&gt;vcg (1.30debian-6) in hardy&lt;/a&gt; - but the .deb package can be downloaded and installed in Ubuntu Lucid without problems. &lt;/p&gt;&lt;p&gt;However, it seems this package is only a VCG &lt;em&gt;viewer&lt;/em&gt; (similar to &lt;a href="http://code.google.com/p/vcgviewer/" rel="nofollow"&gt;vcgviewer&lt;/a&gt;, I'd guess). The &lt;a href="http://code.google.com/p/vcgviewer/" rel="nofollow"&gt;vcgviewer&lt;/a&gt; page notes:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;To generate compiler graph data with newest gcc compilers use:gcc -g -da -dv -fdump-tree-original-raw -fdump-tree-all-all &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So, apparently I'd have to use those switches along with &lt;code&gt;gcc&lt;/code&gt; while compiling, to generate .vcg graph files from the C source. &lt;/p&gt;&lt;p&gt;The problem, however, is that I'm building a kernel module, which only references the Linux headers - as I try to avoid as much as I can the recompilation of entire kernel. And it seems, as soon as I try to use &lt;code&gt;-fdump-tree-...&lt;/code&gt; switches in that context (kernel module), &lt;code&gt;gcc&lt;/code&gt; wants to start compiling the rest of the kernel too! (&lt;em&gt;and obviously fails, in both compilation and generation of .vcg graphs - as I don't have the kernel sources, only headers&lt;/em&gt;) &lt;br/&gt; &lt;br/&gt;&lt;/p&gt;&lt;p&gt;So my &lt;strong&gt;question&lt;/strong&gt; is - is there a tool, that would produce .vcg or .dot graphs of structs - simply using a plain text header file as input? (&lt;em&gt;it would not have to resolve all dependencies - simply those in header files in same directory&lt;/em&gt;) &lt;/p&gt;&lt;p&gt;EDIT: it is actually not that important for me that the backend is .vcg or .dot in particular, I mentioned them just because I've found them so far; any sort of software that would allow similar struct visualization, regardless of backend, is welcome :) &lt;br/&gt; &lt;br/&gt;&lt;/p&gt;&lt;p&gt;PS: Note that if you do not want to use VCG viewers for viewing .vcg graphs, you can convert the .vcg format to a .dot format, and use &lt;code&gt;graphviz&lt;/code&gt; instead for the visualisation. What worked for me is to use &lt;a href="http://search.cpan.org/~tels/Graph-Easy/bin/graph-easy" rel="nofollow"&gt;graph-easy - search.cpan.org&lt;/a&gt; for &lt;code&gt;perl&lt;/code&gt; - which first got packaged in Ubuntu with Maverick edition, as &lt;a href="http://packages.ubuntu.com/maverick/all/libgraph-easy-perl" rel="nofollow"&gt;libgraph-easy-perl&lt;/a&gt; (&lt;em&gt;however, the .deb file can - again - be downloaded and installed without problems in Lucid&lt;/em&gt;). &lt;code&gt;libgraph-easy-perl&lt;/code&gt; installs a &lt;code&gt;graph-easy&lt;/code&gt; script, which then allows to do stuff like:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;graph-easy test.vcg --as_dot | dot -Tpng -o test.vcg.png &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;See also "&lt;a href="https://mailman.research.att.com/pipermail/graphviz-interest/2007q2/004327.html" rel="nofollow"&gt;[graphviz-interest] VCG files&lt;/a&gt;" and "&lt;a href="http://gcc.gnu.org/ml/gcc/2007-03/msg00554.html" rel="nofollow"&gt;Diego Novillo - Re: can't find VCG viewer&lt;/a&gt;" for another vcg-to-dot script (&lt;em&gt;which, unfortunately, didn't work for me&lt;/em&gt;).&lt;/p&gt;</body><title>Visualising C structs?</title><lastedit>1286964440</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">c</tag><tag id="1">linux</tag><tag id="2">struct</tag><tag id="3">visualization</tag></tags></question><question id="3701955"><ownerid>277826</ownerid><creationdate>1284392291</creationdate><lastactivity>1284546197</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I have a serial device set up as loopback (meaning it will simply echo back any character it receives), and I'd like to measure effective throughput speed. For this, I hoped I could use &lt;code&gt;time&lt;/code&gt;, as in&lt;/p&gt;&lt;pre&gt;&lt;code&gt;time bash -c '...'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;where '&lt;code&gt;...&lt;/code&gt;' would be some command I could run. &lt;/p&gt;&lt;p&gt;Now, the first problem is that I want to use the device at 2000000 bps, so I cannot use  &lt;a href="http://man.gnusquad.org/ttylog/section-8/en/" rel="nofollow"&gt;ttylog&lt;/a&gt; or &lt;a href="http://www.manpagez.com/man/1/screen/" rel="nofollow"&gt;screen&lt;/a&gt; (they both seem to go up to 115200 bps only). However, working with &lt;code&gt;/dev/ttyUSB0&lt;/code&gt; as a file (using file redirection and &lt;code&gt;cat&lt;/code&gt;) seems to work fine:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# initialize serial portstty 2000000 -ixon icanon &amp;lt;/dev/ttyUSB0# check settingsstty -a -F /dev/ttyUSB0# in one terminal - read from serial portwhile (true) do cat -A /dev/ttyUSB0 ; done# in other terminal - write to serial portecho "1234567890" &amp;gt; /dev/ttyUSB0# back to first terminal, I now have:# $ while (true) do cat -A /dev/ttyUSB0 ; done# 1234567890$# ...&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now, I'd like to do something similar - I'd like to &lt;code&gt;cat&lt;/code&gt; a file to a serial port, and have the serial port read back - but from a single terminal command (so I could use it as argument to &lt;code&gt;time&lt;/code&gt;). &lt;/p&gt;&lt;p&gt;I thought that I could use a Bash process substitution, to have the "writing" and "reading" part go, sort of, in "parallel" - if I try it with named pipes, it works:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# mkfifo my.pipe # same as below:$ mknod my.pipe p$ comm &amp;lt;(echo -e "test\ntest\ntest\n" &amp;gt; my.pipe) &amp;lt;(cat my.pipe)    test    test    testcomm: file 2 is not in sorted order&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Up there, I'm not using &lt;code&gt;comm&lt;/code&gt; for any other purpose, than to (sort of) merge the two processes into a single command (I guess, I could have just as well used &lt;code&gt;echo&lt;/code&gt; instead). &lt;/p&gt;&lt;p&gt;Unfortunately, that trick does not seem to work with a serial port, because when I try it, I sometimes get:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ comm &amp;lt;(echo "1234567890" &amp;gt; /dev/ttyUSB0) &amp;lt;(while (true) do cat -A /dev/ttyUSB0 ; done)cat: /dev/ttyUSB0: Invalid argument&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;..., however, usually I just get no output whatsoever. This tells me that: either there is no control of which process starts first, and so &lt;code&gt;cat&lt;/code&gt; may start reading before the port is ready (however, that doesn't seem to be a problem in the first example above); or in Linux/Bash, you cannot both read and write to a serial port at the same time, and so the "&lt;code&gt;Invalid argument&lt;/code&gt;" would occur in those moments when both read and write seem to happen at the same time. &lt;/p&gt;&lt;p&gt;So my questions are:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Is there a way to do something like this (&lt;code&gt;cat&lt;/code&gt; a file to a serial port configured as loopback; read it back and see how long it takes) only in Bash, without resorting to writing a dedicated C program? &lt;/li&gt;&lt;li&gt;If I need a dedicated C program, any source examples out there on the net I could use? &lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thanks a lot for any responses, &lt;/p&gt;&lt;p&gt;Cheers! &lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;EDIT: I am aware that the &lt;code&gt;while&lt;/code&gt; loop written above does not exit; that command line was for preliminary testing, and I interrupt it using Ctrl-C. ( &lt;em&gt;I could in principle interrupt it with something like &lt;code&gt;timeout -9 0.1 bash -c 'while (true) do echo AA ; done'&lt;/code&gt;, but that would defeat the purpose of &lt;code&gt;time&lt;/code&gt;, then :)&lt;/em&gt; )&lt;/p&gt;&lt;p&gt;The reason that &lt;code&gt;while&lt;/code&gt; is there, is that for the time being, reading via &lt;code&gt;cat&lt;/code&gt; from the device exits immediately; at times, I &lt;em&gt;have&lt;/em&gt; set up the device, so that when &lt;code&gt;cat&lt;/code&gt; is issued, it in fact blocks and waits for incoming data; but I cannot as of yet figure what's going on (and partially that is why I'm looking for a way to test from the command line). &lt;/p&gt;&lt;p&gt;In case I didn't use the &lt;code&gt;while&lt;/code&gt;, I imagine for timing, I'd use something like:&lt;/p&gt;&lt;p&gt;&lt;code&gt;time bash -c 'comm &amp;lt;(echo "1234567890" &amp;gt; /dev/ttyUSB0) &amp;lt;(cat -A /dev/ttyUSB0)'&lt;/code&gt;&lt;/p&gt;&lt;p&gt;... however for this to be working, sort of, assumes that &lt;code&gt;cat -A /dev/ttyUSB0&lt;/code&gt; starts first and blocks; then the &lt;code&gt;echo&lt;/code&gt; writes to the serial port (and exits); and then &lt;code&gt;cat -A&lt;/code&gt; outputs whatever it read from the serial port - and then exits. (&lt;em&gt;And I'm not really sure neither if a serial port can behave this way at all, nor if &lt;code&gt;cat&lt;/code&gt; can be made to block and exit arbitrarily like that&lt;/em&gt;). &lt;/p&gt;&lt;p&gt;The exact method really doesn't matter; if at all possible, I'd just like to avoid coding my own C program to do this kind of testing - which is why my primary interest is if it is somehow possible to run such a "full-duplex test" using basic Bash/Linux (i.e. &lt;code&gt;coreutils&lt;/code&gt;); (&lt;em&gt;and if not, if there is a ready-made code I can use for something like this&lt;/em&gt;). &lt;/p&gt;</body><title>Serial port loopback/duplex test, in Bash or C? (process substitution)</title><lastedit>1284406661</lastedit><acceptedanswer>3708396</acceptedanswer><tags><tag id="0">c</tag><tag id="1">linux</tag><tag id="2">bash</tag><tag id="3">serial</tag><tag id="4">loopback</tag></tags></question><question id="3430445"><ownerid>277826</ownerid><creationdate>1281184519</creationdate><lastactivity>1281252071</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I'm having this file as &lt;code&gt;data.dat&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Xstep Y1 Y2 Y3 Y4332 1.22 0.00 0.00 1.43336 5.95 12.03 6.11 10.41340 81.05 81.82 81.92 81.05394 11.76 6.16 10.46 5.87398 0.00 0.00 1.51 1.251036 0.03 0.00 0.00 0.00&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I can plot this data as histogram with this script, &lt;code&gt;hist-v1.gplot&lt;/code&gt; (using &lt;code&gt;set style data histogram&lt;/code&gt;): &lt;/p&gt;&lt;pre&gt;&lt;code&gt;set xlabel "X values"set ylabel "Occurence"set style data histogramset style histogram cluster gap 1set style fill solid border -1set term pngset output 'hist-v1.png'set boxwidth 0.9# attempt to set xtics so they are positioned numerically on x axis:set xtics ("332" 332, "336" 336, "340" 340, "394" 394, "398" 398, "1036" 1036)  # ti col reads the first entry of the column, uses it as title name plot 'data.dat' using 2:xtic(1) ti col,  '' u 3 ti col, '' u 4 ti col, '' u 5 ti col&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And by calling:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;gnuplot hist-v1.gplot &amp;amp;&amp;amp; eog hist-v1.png&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;this image is generated:&lt;img src="http://img202.imageshack.us/img202/3974/histv1.png" alt="image hist-v1.png"&gt;&lt;/p&gt;&lt;p&gt;However, you can notice that the X axis is not scaled numerically - it understands the X values as categories (i.e. it is a category axis).&lt;/p&gt;&lt;p&gt;I can get a more numerical X axis with the following script, &lt;code&gt;hist-v2.gplot&lt;/code&gt; (using &lt;code&gt;with boxes&lt;/code&gt;): &lt;/p&gt;&lt;pre&gt;&lt;code&gt;set xlabel "X values"set ylabel "Occurence"# in this case, histogram commands have no effectset style data histogramset style histogram cluster gap 1set style fill solid border -1set term pngset output 'hist-v2.png'set boxwidth 0.9set xr [330:400]# here, setting xtics makes them positioned numerically on x axis:set xtics ("332" 332, "336" 336, "340" 340, "394" 394, "398" 398, "1036" 1036)  # 1:2 will ONLY work with proper xr; since we have x&amp;gt;300; xr[0:10] generates "points y value undefined"!plot 'data.dat' using 1:2 ti col smooth frequency with boxes, '' u 1:3 ti col smooth frequency with boxes&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And by calling:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;gnuplot hist-v2.gplot &amp;amp;&amp;amp; eog hist-v2.png&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;this image is generated:&lt;img src="http://img266.imageshack.us/img266/6717/histv2.png" alt="image hist-v2.png"&gt;&lt;/p&gt;&lt;p&gt;Unfortunately, the bars 'overlap' here, so it is hard to read the graph. &lt;/p&gt;&lt;p&gt;Is there a way to keep the numerical scale X axis as in &lt;code&gt;hist-v2.png&lt;/code&gt;, but keep the 'bars' side by side with as in &lt;code&gt;hist-v1.png&lt;/code&gt;? This thread, "&lt;a href="http://newsgroups.derkeiler.com/Archive/Comp/comp.graphics.apps.gnuplot/2009-09/msg00044.html" rel="nofollow"&gt;Re: Histogram with x axis date error&lt;/a&gt;" says you cannot: &lt;/p&gt;&lt;blockquote&gt;  &lt;p&gt;But it will be hard to pull the x-coordinate date out of the data file, ...&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;but then, it refers to a different problem...&lt;/p&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;</body><title>Histogram with numeric x-axis in gnuplot?</title><lastedit>-1</lastedit><acceptedanswer>3432416</acceptedanswer><tags><tag id="0">axis</tag><tag id="1">numeric</tag><tag id="2">gnuplot</tag><tag id="3">histogram</tag></tags></question><question id="3311182"><ownerid>277826</ownerid><creationdate>1279816708</creationdate><lastactivity>1279957330</lastactivity><body>&lt;p&gt;I am having a slight problem with some structs in a kernel module I'm building, so I thought it would be nice if there was an easy way to print out structs and their values - and below is a small userland example of what I mean.&lt;/p&gt;&lt;p&gt;Say we have the simple C example as below (given in form of a bash commands):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;FN=mtestcat &amp;gt; $FN.c &amp;lt;&amp;lt;EOF#include &amp;lt;stdio.h&amp;gt; //printf#include &amp;lt;stdlib.h&amp;gt; //callocstruct person{ int age;  int height; };static struct person *johndoe;main (){ johndoe = (struct person *)calloc(1, sizeof(struct person)); johndoe-&amp;gt;age = 6;  asm("int3"); //breakpoint for gdb printf("Hello World - age: %d\n", johndoe-&amp;gt;age); free(johndoe);}EOFgcc -g -O0 $FN.c -o $FN# just a run command for gdbcat &amp;gt; ./gdbcmds &amp;lt;&amp;lt;EOFrunEOFgdb --command=./gdbcmds ./$FN &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;If we run this example, the program will compile, and gdb will run it, and automatically stop at the breakpoint. Here we can do the following:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Program received signal SIGTRAP, Trace/breakpoint trap.main () at mtest.c:2020  printf("Hello World - age: %d\n", johndoe-&amp;gt;age);(gdb) p johndoe$1 = (struct person *) 0x804b008(gdb) p (struct person)*0x804b008$2 = {age = 6, height = 0}(gdb) cContinuing.Hello World - age: 6Program exited with code 0300.(gdb) q&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;As shown, in gdb we can printout (dump?) the value of the struct pointer &lt;code&gt;johndoe&lt;/code&gt; as &lt;code&gt;{age = 6, height = 0}&lt;/code&gt; ... I would like to do the same, but directly from a C program; say as in the following example: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt; //printf#include &amp;lt;stdlib.h&amp;gt; //calloc#include &amp;lt;whatever.h&amp;gt; //for imaginary printout_structstruct person{ int age;  int height; };static struct person *johndoe;static char report[255]; main (){ johndoe = (struct person *)calloc(1, sizeof(struct person)); johndoe-&amp;gt;age = 6;  printout_struct(johndoe, report); //imaginary command printf("Hello World - age: %d\nreport: %s", johndoe-&amp;gt;age, report); free(johndoe);}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;which would result with an output like:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Hello World - age: 6$2 = {age = 6, height = 0}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;So my question is - does a function like that imaginary &lt;code&gt;printout_struct&lt;/code&gt; exist - or is there another approach to make a printout like this possible? &lt;/p&gt;&lt;p&gt;Thanks in advance for any help, &lt;br/&gt;Cheers!&lt;/p&gt;</body><title>Linux C: Easy &amp; 'pretty' dump/printout of structs (like in gdb) - from source code?</title><lastedit>1279823413</lastedit><acceptedanswer>3312105</acceptedanswer><tags><tag id="0">c</tag><tag id="1">linux</tag><tag id="2">printing</tag><tag id="3">struct</tag><tag id="4">gdb</tag></tags></question><question id="2781297"><ownerid>277826</ownerid><creationdate>1273151202</creationdate><lastactivity>1273156479</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I am trying to work with "&lt;i&gt;Introduction to Interprocess Communication Using Named Pipes - Full-Duplex Communication Using Named Pipes&lt;/i&gt;", &lt;a href="http://developers.sun.com/solaris/articles/named_pipes.html#5" rel="nofollow"&gt;http://developers.sun.com/solaris/articles/named_pipes.html#5&lt;/a&gt; ; in particular fd_server.c (included below for reference) &lt;/p&gt;&lt;p&gt;Here is my info and compile line: &lt;/p&gt;&lt;pre&gt;:~$ cat /etc/issueUbuntu 10.04 LTS \n \l:~$ gcc --versiongcc (Ubuntu 4.4.3-4ubuntu5) 4.4.3:~$ gcc fd_server.c -o fd_server&lt;/pre&gt;&lt;p&gt;fd_server.c creates two named pipes, one for reading and one for writing. What one can do, is: in one terminal, run the server and read (through cat) its write pipe:&lt;/p&gt;&lt;pre&gt;:~$ ./fd_server &amp; 2&gt;/dev/null [1] 11354:~$ cat /tmp/np2 &lt;/pre&gt;&lt;p&gt;and in another, write (using echo) to server's read pipe:&lt;/p&gt;&lt;pre&gt;:~$ echo "heeellloooo" &gt; /tmp/np1&lt;/pre&gt;&lt;p&gt;going back to first terminal, one can see: &lt;/p&gt;&lt;pre&gt;:~$ cat /tmp/np2 HEEELLLOOOO0[1]+  Exit 13                 ./fd_server 2&gt; /dev/null&lt;/pre&gt;&lt;p&gt;What I would like to do, is make sort of a "interactive" (or "shell"-like) session; that is, the server is run as usual, but instead of running "cat" and "echo", I'd like to use something akin to &lt;b&gt;screen&lt;/b&gt;. What I mean by that, is that screen can be called like &lt;code&gt;screen /dev/ttyS0 38400&lt;/code&gt;, and then it makes a sort of a interactive session, where what is typed in terminal is passed to /dev/ttyS0, and its response is written to terminal. Now, of course, I cannot use &lt;code&gt;screen&lt;/code&gt;, because in my case the program has two separate nodes, and as far as I can tell, &lt;code&gt;screen&lt;/code&gt; can refer to only one. &lt;/p&gt;&lt;p&gt;How would one go about to achieve this sort of "interactive" session in this context (with two separate read/write pipes)? &lt;/p&gt;&lt;p&gt;Thanks, &lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;&lt;p&gt;Code below:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;#include &amp;lt;errno.h&amp;gt;#include &amp;lt;ctype.h&amp;gt;#include &amp;lt;sys/types.h&amp;gt;#include &amp;lt;sys/stat.h&amp;gt;#include &amp;lt;fcntl.h&amp;gt;//#include &amp;lt;fullduplex.h&amp;gt; /* For name of the named-pipe */#define NP1     "/tmp/np1"#define NP2     "/tmp/np2"#define MAX_BUF_SIZE    255#include &amp;lt;stdlib.h&amp;gt; //exit#include &amp;lt;string.h&amp;gt; //strlenint main(int argc, char *argv[]){    int rdfd, wrfd, ret_val, count, numread;    char buf[MAX_BUF_SIZE];    /* Create the first named - pipe */    ret_val = mkfifo(NP1, 0666);    if ((ret_val == -1) &amp;amp;&amp;amp; (errno != EEXIST)) {        perror("Error creating the named pipe");        exit (1);    }    ret_val = mkfifo(NP2, 0666);    if ((ret_val == -1) &amp;amp;&amp;amp; (errno != EEXIST)) {        perror("Error creating the named pipe");        exit (1);    }    /* Open the first named pipe for reading */    rdfd = open(NP1, O_RDONLY);    /* Open the second named pipe for writing */    wrfd = open(NP2, O_WRONLY);    /* Read from the first pipe */    numread = read(rdfd, buf, MAX_BUF_SIZE);    buf[numread] = '0';    fprintf(stderr, "Full Duplex Server : Read From the pipe : %sn", buf);    /* Convert to the string to upper case */    count = 0;    while (count &amp;lt; numread) {        buf[count] = toupper(buf[count]);        count++;    }    /*     * Write the converted string back to the second     * pipe     */    write(wrfd, buf, strlen(buf));}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Edit:&lt;/p&gt;&lt;p&gt;Right, just to clarify - it seems I found a document discussing something very similar, it is &lt;a href="http://en.wikibooks.org/wiki/Serial_Programming/Serial_Linux#Configuration_with_stty" rel="nofollow"&gt;http://en.wikibooks.org/wiki/Serial_Programming/Serial_Linux#Configuration_with_stty&lt;/a&gt; - a modification of the script there ("&lt;i&gt;For example, the following script configures the device and starts a background process for copying all received data from the serial device to standard output...&lt;/i&gt;") for the above program is below:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;# stty raw # ( ./fd_server 2&amp;gt;/dev/null; )&amp;amp;bgPidS=$!( cat &amp;lt; /tmp/np2 ; )&amp;amp;bgPid=$!# Read commands from user, send them to deviceecho $(kill -0 $bgPidS 2&amp;gt;/dev/null ; echo $?)while [ "$(kill -0 $bgPidS 2&amp;gt;/dev/null ; echo $?)" -eq "0" ] &amp;amp;&amp;amp; read cmd; do   # redirect debug msgs to stderr, as here we're redirected to /tmp/np1   echo "$? - $bgPidS - $bgPid" &amp;gt;&amp;amp;2   echo "$cmd"   echo -e "\nproc: $(kill -0 $bgPidS 2&amp;gt;/dev/null ; echo $?)" &amp;gt;&amp;amp;2done &amp;gt;/tmp/np1echo OUT# Terminate background read process - if they still existif [ "$(kill -0 $bgPid 2&amp;gt;/dev/null ; echo $?)" -eq "0" ] ;then    kill $bgPidfiif [ "$(kill -0 $bgPidS 2&amp;gt;/dev/null ; echo $?)" -eq "0" ] ;then    kill $bgPidSfi# stty cooked&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So, saving the script as say starter.sh and calling it, results with the following session: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ ./starter.sh 0i'm typing here and pressing [enter] at end0 - 13496 - 13497I'M TYPING HERE AND PRESSING [ENTER] AT END0~�.N=�(�~� �����}����@������~� [garble]proc: 0OUT&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;which is what I'd call for "interactive session" (ignoring the debug statements) - server waits for me to enter a command; it gives its output after it receives a command (and as in this case it exits after first command, so does the starter script as well). Except that, I'd like to not have buffered input, but sent character by character (meaning the above session should exit after first key press, and print out a single letter only - which is what I expected stty raw would help with, but it doesn't: it just kills reaction to both Enter and Ctrl-C :) )   &lt;/p&gt;&lt;p&gt;I was just wandering if there already is an existing command (akin to &lt;code&gt;screen&lt;/code&gt; in respect to serial devices, I guess) that would accept two such named pipes as arguments, and establish a "terminal" or "shell" like session through them; or would I have to use scripts as above and/or program own 'client' that will behave as a terminal..&lt;/p&gt;</body><title>Linux C: "Interactive session" with separate read and write named pipes?</title><lastedit>1273156479</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">c</tag><tag id="1">pipes</tag><tag id="2">interactive</tag><tag id="3">named</tag></tags></question><question id="2780051"><ownerid>277826</ownerid><creationdate>1273138939</creationdate><lastactivity>1273141207</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;I am trying to understand &lt;a href="http://beej.us/guide/bgnet/examples/select.c" rel="nofollow"&gt;http://beej.us/guide/bgnet/examples/select.c&lt;/a&gt; (included below for reference). I am doing this: &lt;/p&gt;&lt;p&gt;&lt;code&gt;    :~$ cat /etc/issue&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Ubuntu 10.04 LTS \n \l:~$ gcc --versiongcc (Ubuntu 4.4.3-4ubuntu5) 4.4.3:~$ wget http://beej.us/guide/bgnet/examples/select.c:~$ gcc select.c -o select:~$ echo "ff" | ./select A key was pressed!:~$ ./select TYPINGTYTimed out.&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;So, the select program apparently recognizes an echo piping into it as input; but it will not recognize keypresses on the terminal. Why is this? Can some sort of redirection be used (I guess, similar to how screen could 'redirect' keyboard input to a serial session) so that actual key presses in terminal are recognized?&lt;/p&gt;&lt;p&gt;Thanks, Cheers!&lt;/p&gt;&lt;p&gt;select.c:&lt;/p&gt;&lt;p&gt;&lt;code&gt;    /*    ** select.c -- a select() demo    */&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;#include &amp;lt;sys/time.h&amp;gt;#include &amp;lt;sys/types.h&amp;gt;#include &amp;lt;unistd.h&amp;gt;#define STDIN 0  // file descriptor for standard inputint main(void){ struct timeval tv; fd_set readfds; tv.tv_sec = 2; tv.tv_usec = 500000; FD_ZERO(&amp;amp;readfds); FD_SET(STDIN, &amp;amp;readfds); // don't care about writefds and exceptfds: select(STDIN+1, &amp;amp;readfds, NULL, NULL, &amp;amp;tv); if (FD_ISSET(STDIN, &amp;amp;readfds))  printf("A key was pressed!\n"); else  printf("Timed out.\n"); return 0;}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;Edit: see answer; thus all we need is to press enter:&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;:~$ ./select A key was pressed!&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;or we can turn off buffered input with &lt;code&gt;stty raw&lt;/code&gt; (and turn it back on with &lt;code&gt;stty cooked&lt;/code&gt;):&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;:~ stty raw:~ ./select                                             dA key was pressed!                                                               :~ stty cooked &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/code&gt;&lt;/p&gt;</body><title>Linux C select: piping echo to input works, but reading from keyboard doesn't?</title><lastedit>1273141207</lastedit><acceptedanswer>2780161</acceptedanswer><tags><tag id="0">c</tag><tag id="1">select</tag><tag id="2">stdin</tag><tag id="3">keypress</tag></tags></question><question id="2518833"><ownerid>277826</ownerid><creationdate>1269546212</creationdate><lastactivity>1269546914</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Bumped into a somewhat weird problem... I want to turn the string:&lt;/p&gt;&lt;p&gt;a\left(b_{d}\right)&lt;/p&gt;&lt;p&gt;into &lt;/p&gt;&lt;p&gt;a \left( b_{d} \right)&lt;/p&gt;&lt;p&gt;in Scite using a Lua script. &lt;/p&gt;&lt;p&gt;So, I made the following Lua script for Scite: &lt;/p&gt;&lt;hr&gt;&lt;pre&gt;&lt;code&gt;function SpaceTexEquations()  editor:BeginUndoAction()    local sel = editor:GetSelText()    local cln3 = string.gsub(sel, "\\left(", " \\left( ")    local cln4 = string.gsub(cln3, "\\right)", " \\right) ")    editor:ReplaceSel(cln4)  editor:EndUndoAction()end&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&lt;p&gt;The cln3 line works fine, however, cln4 crashes with:&lt;/p&gt;&lt;pre&gt;&lt;code&gt; /home/user/sciteLuaFunctions.lua:49: invalid pattern capture &amp;gt;Lua: error occurred while processing command&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I think this is because bracket characters () are reserved characters in Lua; but then, how come the cln3 line works without escaping? By the way I also tried:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;-- using backslash \ as escape char:local cln4 = string.gsub(cln3, "\\right\)", " \\right) ") -- crashes all the same-- using percentage sign % as escape charelocal cln4 = string.gsub(cln3, "\\right%)", " \\right) ") -- does not crash, but does not match either&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Could anyone tell me what would be the correct way to do this? &lt;/p&gt;&lt;p&gt;Thanks, &lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;</body><title>Scite Lua - escaping right bracket in regex?</title><lastedit>-1</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">regex</tag><tag id="1">lua</tag><tag id="2">escaping</tag><tag id="3">scite</tag></tags></question><question id="4122690"><ownerid>23744</ownerid><creationdate>1289209593</creationdate><lastactivity>1289226085</lastactivity><body>&lt;p&gt;I am looking for a commutative cipher - that is&lt;/p&gt;&lt;pre&gt;&lt;code&gt;E(K₁,E(K₂,P)) = E(K₂,E(K₁,P))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;but is not associative - that is&lt;/p&gt;&lt;pre&gt;&lt;code&gt;E(K,P) ≠ E(P,K)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That rules out XOR, which otherwise would have been ok.&lt;/p&gt;&lt;p&gt;A symmetric cipher would be preferable, but an asymmetric cipher would work too.&lt;/p&gt;&lt;p&gt;The basic protocol I want to implement is:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Alice has a list of tokens (32-bit integers) and she encrypts each token with the same key (K0)&lt;/li&gt;&lt;li&gt;Alice sends the list of encrypted tokens to Bob&lt;/li&gt;&lt;li&gt;Bob randomises the list, encrypts each token with a separate key (K1 - Kn), labels each token and returns the list to Alice.&lt;/li&gt;&lt;li&gt;Alice decrypts each token with K0, leaving her a list of tokens, each encrypted with a separate key (K1 - Kn)&lt;/li&gt;&lt;li&gt;Sometime later, Bob sends Alice a key for a specific label (Kx)&lt;/li&gt;&lt;li&gt;Alice decrypts the token with Kx giving her the plaintext for the token labelled x&lt;/li&gt;&lt;li&gt;Bob may see the plaintext, so he must not be able to derive K0 from it given the information he was previously given.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Can someone suggest a cipher I can use and also point me to an implementation of that cipher?&lt;/p&gt;&lt;p&gt;I have an understanding of cryptographic protocols and applications but I don't really grok the mathematics of most of the ciphers out there. Step-by-step mathematical guides would be ok though.&lt;/p&gt;&lt;p&gt;I plan to implement this in Clojure so any Java libraries are also good. However, any code is good because I understand code.&lt;/p&gt;</body><title>A commutative cipher?</title><lastedit>-1</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">cryptography</tag></tags></question><question id="3222810"><ownerid>23744</ownerid><creationdate>1278846339</creationdate><lastactivity>1278906205</lastactivity><body>&lt;p&gt;What is the simplest way to sort a list of lines, sorting on the last field of each line? Each line may have a variable number of fields.&lt;/p&gt;&lt;p&gt;Something like&lt;/p&gt;&lt;pre&gt;&lt;code&gt;sort -k -1&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;is what I want, but sort(1) does not take negative numbers to select fields from the end instead of the start.&lt;/p&gt;&lt;p&gt;I'd also like to be able to choose the field delimiter too.&lt;/p&gt;&lt;p&gt;Edit: To add some specificity to the question: The list I want to sort is a list of pathnames. The pathnames may be of arbitrary depth hence the variable number of fields. I want to sort on the filename component.&lt;/p&gt;&lt;p&gt;This additional information may change how one manipulates the line to extract the last field (basename(1) may be used), but does not change sorting requirements.&lt;/p&gt;&lt;p&gt;e.g.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;/a/b/c/10-foo/a/b/c/20-bar/a/b/c/50-baz/a/d/30-bob/a/e/f/g/h/01-do-this-first/a/e/f/g/h/99-local&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I want this list sorted on the filenames, which all start with numbers indicating the order the files should be read.&lt;/p&gt;&lt;p&gt;I've added my answer below which is how I am currently doing it. I had hoped there was a simpler way - maybe a different sort utility - perhaps without needing to manipulate the data.&lt;/p&gt;</body><title>Sorting on the last field of a line</title><lastedit>1278900654</lastedit><acceptedanswer>3225496</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">shell</tag><tag id="2">sorting</tag></tags></question><question id="3034567"><ownerid>23744</ownerid><creationdate>1276477723</creationdate><lastactivity>1276479006</lastactivity><body>&lt;p&gt;I am working around a problem in Ubuntu 10.04 where after resume, the mouse cursor disappears.&lt;/p&gt;&lt;p&gt;This can be "fixed" by running &lt;code&gt;chvt 1; chvt 7&lt;/code&gt; in a script in /etc/pm/sleep.d, such that those commands run on thaw and resume.&lt;/p&gt;&lt;p&gt;However, the X console is not always vt #7, so &lt;code&gt;chvt 7&lt;/code&gt; is wrong in those cases.&lt;/p&gt;&lt;p&gt;What I would like to do is find out the current vt in the fix-up script and make sure I change back to that vt.&lt;/p&gt;&lt;p&gt;How can I find the current vt? (tty(1) just reports "not a tty")&lt;/p&gt;</body><title>How do I find the current virtual terminal</title><lastedit>-1</lastedit><acceptedanswer>3034596</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">shell</tag><tag id="2">console</tag></tags></question><question id="2711426"><ownerid>23744</ownerid><creationdate>1272262591</creationdate><lastactivity>1272320394</lastactivity><body>&lt;p&gt;I have an embedded Linux system running on an Atmel AT91SAM9260EK board on which I have two processes running at real-time priority. A manager process periodically "pings" a worker process using POSIX message queues to check the health of the worker process. &lt;strong&gt;Usually the round-trip ping takes about 1ms, but very occasionally it takes much longer - about 800ms&lt;/strong&gt;. There are no other processes that run at a higher priority.&lt;/p&gt;&lt;p&gt;It appears the stall may be related to logging (syslog). If I stop logging the problem seems to go away. However it makes no difference if the log file is on JFFS2 or NFS. No other processes are writing to the "disk" - just syslog.&lt;/p&gt;&lt;p&gt;What tools are available to me to help me track down why these stalls are occurring? I am aware of latencytop and will be using that. Are there some other tools that may be more useful?&lt;/p&gt;&lt;p&gt;Some details:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Kernel version: 2.6.32.8&lt;/li&gt;&lt;li&gt;libc (syslog functions): uClibc 0.9.30.1&lt;/li&gt;&lt;li&gt;syslog: busybox 1.15.2&lt;/li&gt;&lt;li&gt;No swap space configured [added in edit]&lt;/li&gt;&lt;li&gt;root filesystem is on tmpfs (loaded from initramfs) [added in edit]&lt;/li&gt;&lt;/ul&gt;</body><title>Finding latency issues (stalls) in embedded Linux systems</title><lastedit>1272320394</lastedit><acceptedanswer>-1</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">tools</tag><tag id="2">embedded</tag><tag id="3">latency</tag></tags></question><question id="176989"><ownerid>23744</ownerid><creationdate>1223345705</creationdate><lastactivity>1253172277</lastactivity><body>&lt;p&gt;In the early days of C++ when it was bolted on top of C, you could not use NULL as it was defined as (void*)0. You could not assign NULL to any pointer other than void*, which made it kind of useless. Back in those days, it was accepted that you used 0 (zero) for null pointers.&lt;/p&gt;&lt;p&gt;To this day, I have continued to use zero as a null pointer but those around me insist on using NULL. I personally do not see any benefit to giving a name (NULL) to an existing value - and since I also like to test pointers as truth values:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;if (p &amp;amp;&amp;amp; !q)  do_something();&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;then using zero makes more sense (as in if you use NULL, you cannot logically use p &amp;amp;&amp;amp; !q - you need to explicitly compare against NULL, unless you assume NULL is zero, in which case why use NULL).&lt;/p&gt;&lt;p&gt;Is there any objective reason to prefer zero over NULL (or vice versa), or is all just personal preference?&lt;/p&gt;&lt;p&gt;Edit: I should add (and meant to originally say) that with RAII and exceptions, I rarely use zero/NULL pointers, but sometimes you do need them still.&lt;/p&gt;</body><title>Do you use NULL or 0 (zero) for pointers in C++?</title><lastedit>1223346199</lastedit><acceptedanswer>177007</acceptedanswer><tags><tag id="0">c++</tag><tag id="1">null</tag></tags></question><question id="211055"><ownerid>23744</ownerid><creationdate>1224216844</creationdate><lastactivity>1224220410</lastactivity><body>&lt;p&gt;Does Linux/Unix/Posix provide an API to user-space applications to access a monotonically increasing clock, with centisecond to millisecond accuracy?&lt;/p&gt;&lt;p&gt;On Linux, /proc/uptime provides a string-based representation of a floating point number of the number of seconds the system has been up.&lt;/p&gt;&lt;p&gt;gettimeofday(2) does not provide a monotonically increasing clock.&lt;/p&gt;&lt;p&gt;I could use getitimer(2) in the ITIMER_REAL time domain, set the timer to start at the (platform dependent) maximum and ignore the signal generated, but according to the man page the longest the timer can run for is approximately 100 days, which is shorter than my expected run time.&lt;/p&gt;</body><title>Does Linux provide a monotonically increasing clock to applications</title><lastedit>-1</lastedit><acceptedanswer>211080</acceptedanswer><tags><tag id="0">linux</tag><tag id="1">unix</tag><tag id="2">timer</tag></tags></question></questions><answers><answer id="4181468"><ownerid>382186</ownerid><questionid>4180081</questionid><creationdate>1289796239</creationdate><lastactivity>1289796239</lastactivity><body>&lt;p&gt;What about &lt;code&gt;grep -a&lt;/code&gt;?  Not sure how it works on truly binary files but it works well on text files that the OS thinks is binary.&lt;/p&gt;</body><title>Linux: Binary grep?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="4180510"><ownerid>67829</ownerid><questionid>4180081</questionid><creationdate>1289779722</creationdate><lastactivity>1289779722</lastactivity><body>&lt;p&gt;Someone else appears to have been similarly frustrated and wrote their own tool to do it (or at least something similar): &lt;a href="http://debugmo.de/2009/04/bgrep-a-binary-grep/" rel="nofollow"&gt;bgrep&lt;/a&gt;.&lt;/p&gt;</body><title>Linux: Binary grep?</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="4120926"><ownerid>26428</ownerid><questionid>4119991</questionid><creationdate>1289184632</creationdate><lastactivity>1289213340</lastactivity><body>&lt;h3&gt;Simple version:&lt;/h3&gt;&lt;p&gt;This command at a shell prompt:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;bind '"\ee": "${PWD##*/}\e\C-e"'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or this line added to your &lt;code&gt;~/.inputrc&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;"\ee": "${PWD##*/}\e\C-e"&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;will cause &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;e&lt;/kbd&gt; to insert the basename of the current directory on the command line. It requires that the default binding of the readline function &lt;code&gt;shell-expand-line&lt;/code&gt; which is &lt;code&gt;\e\C-e&lt;/code&gt; be present (this could be adapted if it's different). I'm also making the assumption that you're using Bash's emacs mode.&lt;/p&gt;&lt;p&gt;Unfortunately, it causes things that have already been typed to be expanded as well. One of the affects of this is that after having typed:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;svn ci -m "&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and pressing &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;e&lt;/kbd&gt;, the quotation mark will have disappeared. There are a couple of ways to deal with this.&lt;/p&gt;&lt;p&gt;One, assume that all you'll lose is the quote and either manually add it back or have the readline macro add it for you:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;bind '"\ee": "${PWD##*/}\e\C-e\eb\"\C-e"'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;which just isn't very satisfactory.&lt;/p&gt;&lt;h3&gt;Advanced version:&lt;/h3&gt;&lt;p&gt;Or, two, kill the line, do the insertion, then yank the line back:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;bind '"\ee": " \C-u \C-a\C-k${PWD##*/}\e\C-e\C-y\C-a\C-y\ey\b"'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or&lt;/p&gt;&lt;pre&gt;&lt;code&gt;bind '"\ee": " \C-u \C-a\C-k${PWD##*/}\e\C-e\C-y\C-a\C-y\ey\b\ef\C-f"'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This leaves the rest of the line intact (nothing else is expanded or deleted), but it uses the kill ring, so it may leave it in a state that's different than you expect (if you're using it). It also inserts a space after the inserted directory name (the spaces in the macro are used to ensure that older kill-ring contents are not regurgitated if the macro is executed at the beginning or end of the line). The macro should work regardless of the position of the cursor in the line. The insertion will be made at the cursor's position, leaving the cursor in the same position [in the first version].&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; The second version leaves the cursor after the dirname and space that are inserted.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Edit 2:&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;The readline function &lt;code&gt;shell-forward-word&lt;/code&gt; (unbound) does a better job than &lt;code&gt;forward-word&lt;/code&gt; (&lt;code&gt;\ef&lt;/code&gt;) for this. You can make use of that like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;bind '"\ew":shell-forward-word'bind '"\ee": " \C-u \C-a\C-k${PWD##*/}\e\C-e\C-y\C-a\C-y\ey\b\ew\C-f"'&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;By the way, you should know that Bash keyboard shortcuts are not active in other programs such as &lt;code&gt;nano&lt;/code&gt;.&lt;/p&gt;</body><title>Bash: call script with customized keyboard shortcuts?</title><lastedit>1289213340</lastedit><accepted>true</accepted></answer><answer id="4120739"><ownerid>23744</ownerid><questionid>4119991</questionid><creationdate>1289180760</creationdate><lastactivity>1289180760</lastactivity><body>&lt;p&gt;One way to do what you want with a single key press is to take advantage of programmable completion in bash. You possibly have some programmable completion set up with the bash_completion tool/package. If not, look into that to see the specifics of how it is done.&lt;/p&gt;&lt;p&gt;The idea is to have the programmable completion recognise when you have hit  at the start of a svn commit message and then have it return a single completion which is the text you want to insert (the basename of the current directory).&lt;/p&gt;&lt;p&gt;I've only dabbled with programmable completion so I can't give you the details, but the above-mentioned bash_completion package or the &lt;a href="http://svn.apache.org/repos/asf/subversion/trunk/tools/client-side/bash_completion" rel="nofollow"&gt;subversion completion script&lt;/a&gt; may be a good start.&lt;/p&gt;</body><title>Bash: call script with customized keyboard shortcuts?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="4036877"><ownerid>130641</ownerid><questionid>4036743</questionid><creationdate>1288207390</creationdate><lastactivity>1288207390</lastactivity><body>&lt;p&gt;The following worked fine for me:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;line = "//thisisatest"fchars = string.sub(line, 1, 2) -- I assume you meant 1,2 since // and ##                                -- are only 2 characters longif fchars == "//" or fchars == "##" then -- you're missing 'then'   print("got it!") end&lt;/code&gt;&lt;/pre&gt;</body><title>Scite Lua: string comparison raises "attempt to call a string value"?</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="4036844"><ownerid>277826</ownerid><questionid>4036743</questionid><creationdate>1288207201</creationdate><lastactivity>1288207201</lastactivity><body>&lt;p&gt;Pfffft.... syntax error - forgot &lt;code&gt;then&lt;/code&gt; at end: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;if fchars == "//" or fchars == "##" then  print "got it"end &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cheers!&lt;/p&gt;</body><title>Scite Lua: string comparison raises "attempt to call a string value"?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="4033343"><ownerid>104596</ownerid><questionid>4025320</questionid><creationdate>1288183639</creationdate><lastactivity>1288183639</lastactivity><body>&lt;p&gt;In short, no, I can't see anything wrong with the sequence you're doing, or why it would cause that behaviour.&lt;/p&gt;&lt;p&gt;The fact that the kernel allows the newly built module to be inserted basically means that you've built it properly and it has also inserted correctly, so there are no version mismatches or anything.&lt;/p&gt;&lt;p&gt;I'll guess that when you run the test at 2000000 bps, you first tested the vanilla driver and then the new driver? So my guess is the driver is not cleaning up something correctly, so when you run the test again (with the new driver) you see a segfault. But like I said, that's a guess.&lt;/p&gt;</body><title>Building out-of-tree kernel modules, depmod - and, why reboot? </title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="4000997"><ownerid>371250</ownerid><questionid>3999114</questionid><creationdate>1287781828</creationdate><lastactivity>1287781828</lastactivity><body>&lt;blockquote&gt; The problem is that whenever I try the actual piping, that seems to mess up stdin, and the curses window never shows. [...snip...]As far as I can see, the issue is: - whenever we pipe strings into the Python script, the Python script loses the reference to the terminal as stdin, and notices that the replaced stdin is not a termios structure anymore - and since stdin is no longer a terminal, curses.initscr() exits immediately without rendering anything.&lt;/blockquote&gt;&lt;p&gt;Actually, the curses window does show, but since there is no more input on your brave new &lt;em&gt;stdin&lt;/em&gt;, &lt;code&gt;myscreen.getch()&lt;/code&gt; returns immediately. So it has nothing to do with curses testing whether &lt;em&gt;stdin&lt;/em&gt; is a terminal.&lt;/p&gt;&lt;p&gt;So if you want to use &lt;code&gt;myscreen.getch()&lt;/code&gt; and other curses input functions, you'll have to reopen your terminal. On Linux and *nix systems there is usually a device called &lt;code&gt;/dev/tty&lt;/code&gt; that refers to the current terminal. So you can do something like:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;f=open("/dev/tty")os.dup2(f.fileno(), 0)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;before your call to &lt;code&gt;myscreen.getch()&lt;/code&gt;.&lt;/p&gt;</body><title>Linux: Pipe into Python (ncurses) script, stdin and termios</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="3999695"><ownerid>464709</ownerid><questionid>3999114</questionid><creationdate>1287771161</creationdate><lastactivity>1287777791</lastactivity><body>&lt;p&gt;This can't be done without getting the parent process involved. Fortunately, there's a way to get &lt;a href="http://www.faqs.org/docs/abs/HTML/index.html" rel="nofollow"&gt;bash&lt;/a&gt; involved using &lt;a href="http://www.faqs.org/docs/abs/HTML/io-redirection.html" rel="nofollow"&gt;I/O redirection&lt;/a&gt; :&lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ (echo "foo" | ./pipe.py) 3&amp;lt;&amp;amp;0&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That will pipe &lt;code&gt;foo&lt;/code&gt; to &lt;code&gt;pipe.py&lt;/code&gt; in a subshell with &lt;code&gt;stdin&lt;/code&gt; duplicated into file descriptor 3. Now all we need to do is use that extra help from our parent process in the python script (since we'll inherit fd 3):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#!/usr/bin/env pythonimport sys, osimport cursesoutput = sys.stdin.readline(100)# We're finished with stdin. Duplicate inherited fd 3,# which contains a duplicate of the parent process' stdin,# into our stdin, at the OS level (assigning os.fdopen(3)# to sys.stdin or sys.__stdin__ does not work).os.dup2(3, 0)# Now curses can initialize.screen = curses.initscr()screen.border(0)screen.addstr(12, 25, output)screen.refresh()screen.getch()curses.endwin()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Finally, you can work around the ugly syntax on the command line by running the subshell first:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ exec 3&amp;lt;&amp;amp;0  # spawn subshell$ echo "foo" | ./pipe.py  # works$ echo "bar" | ./pipe.py  # still works&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That solves your problem, if you have &lt;code&gt;bash&lt;/code&gt;.&lt;/p&gt;</body><title>Linux: Pipe into Python (ncurses) script, stdin and termios</title><lastedit>1287777791</lastedit><accepted>true</accepted></answer><answer id="3941502"><ownerid>277826</ownerid><questionid>3940973</questionid><creationdate>1287139603</creationdate><lastactivity>1287139603</lastactivity><body>&lt;p&gt;Oh, well - that wasn't trivial at all, but here is a solution: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; SELECT * FROM names AS n1         LEFT OUTER JOIN (             SELECT d1.*             FROM datas AS d1, (                 SELECT max(countdata) as countdata,name_id                 FROM datas                 GROUP BY name_id                ) AS ttemp             WHERE d1.name_id = ttemp.name_id AND d1.countdata = ttemp.countdata         ) AS p1 ON n1.n_id=p1.name_id;n1.n  n1.name       p1.d_id     p1.name_id  p1.countdata                       ----  ------------  ----------  ----------  -----------------------------------1     nameA         2           1           47                                 2     nameB         5           2           87                                 &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &lt;/p&gt;&lt;p&gt;Well, hope this ends up helping someone, :) Cheers!&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/p&gt;&lt;p&gt;&lt;strong&gt;Notes&lt;/strong&gt;: note that just calling max(countdata) screws up competely &lt;code&gt;d_id&lt;/code&gt;: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; select d_id,name_id,max(countdata) as countdata from datas group by name_id;d_id  name_id       countdata ----  ------------  ----------3     2             87        1     1             47        &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;so to get correct corresponding &lt;code&gt;d_id&lt;/code&gt;, we must do &lt;code&gt;max()&lt;/code&gt; on &lt;code&gt;datas&lt;/code&gt; separately - and then perform sort of an intersect with the full &lt;code&gt;datas&lt;/code&gt; (&lt;em&gt;except that intersect in sqlite requires that there are equal number of columns in both datasets, which is not the case here - and even if we made it that way, as seen above &lt;code&gt;d_id&lt;/code&gt; will be wrong, so intersect will not work&lt;/em&gt;). &lt;/p&gt;&lt;p&gt;One way to do that is in using a sort of a temporary table, and then utilize a multiple table SELECT query so as to set conditions between full &lt;code&gt;datas&lt;/code&gt; and the subset returned via &lt;code&gt;max(countdata)&lt;/code&gt;, as shown below: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; CREATE TABLE ttemp AS SELECT max(countdata) as countdata,name_id FROM datas GROUP BY name_id;sqlite&amp;gt; SELECT d1.*, ttemp.* FROM datas AS d1, ttemp WHERE d1.name_id = ttemp.name_id AND d1.countdata = ttemp.countdata;d1.d  d1.name_id    d1.countda  ttemp.coun  ttemp.name_id                      ----  ------------  ----------  ----------  -----------------------------------2     1             47          47          1                                  5     2             87          87          2                                  sqlite&amp;gt; DROP TABLE ttemp;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or, we can rewrite the above so a SELECT subquery (sub-select?) is used, like this: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;sqlite&amp;gt; SELECT d1.* FROM datas AS d1, (SELECT max(countdata) as countdata,name_id FROM datas GROUP BY name_id) AS ttemp WHERE d1.name_id = ttemp.name_id AND d1.countdata = ttemp.countdata;d1.d  d1.name_id    d1.countda----  ------------  ----------2     1             47        5     2             87        &lt;/code&gt;&lt;/pre&gt;</body><title>sqlite2: Joining max values per column from another table (subquery reference)?</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="3923909"><ownerid>20270</ownerid><questionid>3921931</questionid><creationdate>1286974996</creationdate><lastactivity>1286974996</lastactivity><body>&lt;p&gt;I've managed to successfully build a kernel module with vcg generation by doing the following:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Creating a linked copy of the kernel source or header directory using &lt;code&gt;cp -al /usr/src/linux-srcdir /tmp/tmp-srcdir&lt;/code&gt; since gcc wants to write to the current working directory.&lt;/li&gt;&lt;li&gt;Adding &lt;code&gt;EXTRA_CFLAGS="-g -da -dv -fdump-tree-original-raw -fdump-tree-all-all"&lt;/code&gt; to the make command line eg. &lt;code&gt;-C /tmp/tmp-srcdir M=&lt;/code&gt;pwd&lt;code&gt;EXTRA_CFLAGS="-g -da -dv -fdump-tree-original-raw -fdump-tree-all-all"&lt;/code&gt;. the &lt;code&gt;vcg&lt;/code&gt; files are generated in &lt;code&gt;/tmp/tmp-srcdir&lt;/code&gt;&lt;/li&gt;&lt;/ol&gt;</body><title>Visualising C structs?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="3716720"><ownerid>448275</ownerid><questionid>3701955</questionid><creationdate>1284546197</creationdate><lastactivity>1284546197</lastactivity><body>&lt;p&gt;You may also take a look at Johan Bevemyr's serial command line tool.&lt;/p&gt;&lt;p&gt;&lt;a href="http://www.erlang.org/user.html#serial-1.0" rel="nofollow"&gt;http://www.erlang.org/user.html#serial-1.0&lt;/a&gt;&lt;/p&gt;</body><title>Serial port loopback/duplex test, in Bash or C? (process substitution)</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="3708396"><ownerid>277826</ownerid><questionid>3701955</questionid><creationdate>1284463686</creationdate><lastactivity>1284469351</lastactivity><body>&lt;p&gt;Hi, me again, &lt;/p&gt;&lt;p&gt;Well, I managed to put &lt;code&gt;writeread.c&lt;/code&gt; in a threaded version using &lt;code&gt;pthread&lt;/code&gt; (&lt;em&gt;code is below - I don't think &lt;code&gt;serial.h&lt;/code&gt; changed much; it's not used that much in the threaded version anyways&lt;/em&gt;). I have also lowered the speed to 115200, and now I can confirm these measurements with the device, in the sample command line session below: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ ./writeread /dev/ttyUSB0 115200 writeread.c 3&amp;gt;myout.txtstdalt opened; Alternative file descriptor: 3Opening port /dev/ttyUSB0;Got speed 115200 (4098/0x1002);Got file/string 'writeread.c'; opened as file (6131).write_thread_function spawned   write: 6131   read: 18   read: 64   read: 110   read: 156   read: 202...   read: 6066   read: 6089   read: 6123   read: 6131+++DONE+++Wrote: 6131 bytes; Read: 6131 bytes; Total: 12262 bytes. Start: 1284462824 s 141104 us; End: 1284462824 s 682598 us; Delta: 0 s 541494 us. 115200 baud for 8N1 is 11520 Bps (bytes/sec).Measured: write 11322.38 Bps (98.28%), read 11322.38 Bps (98.28%), total 22644.76 Bps.$ diff writeread.c myout.txt $ &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Well, measurements now report up to 99% of the expected baud rate, so I guess that means that the profiling aspect of this program should work. Notice:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;For this device, the &lt;code&gt;write&lt;/code&gt; is executed in a single chunk (&lt;em&gt;as the PC should be able to handle the sequencing to packets, if necessary&lt;/em&gt;), &lt;/li&gt;&lt;li&gt;while the &lt;code&gt;read&lt;/code&gt; goes on in smaller chunks (&lt;em&gt;probably indicating that the device doesn't wait for the entire chunk to arrive - instead it starts sending back smaller chunks as soon as it has received enough&lt;/em&gt;)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Well, I guess this is what I needed originally; I also guess it is probably not possible to arrange &lt;code&gt;cat&lt;/code&gt; and &lt;code&gt;echo&lt;/code&gt; via process substitution to execute in this, let's call it "threaded", manner :) (&lt;em&gt;Now, I do have a problem with doing the same at 2000000 baud, but that indicates a problem with the programming of the device&lt;/em&gt;).&lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;writeread.c&lt;/strong&gt; - &lt;em&gt;threaded version&lt;/em&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;/*    writeread.c - based on writeread.cpp    [SOLVED] Serial Programming, Write-Read Issue - http://www.linuxquestions.org/questions/programming-9/serial-programming-write-read-issue-822980/    build with: gcc -o writeread -lpthread -Wall -g writeread.c*/#include &amp;lt;stdio.h&amp;gt;#include &amp;lt;string.h&amp;gt;#include &amp;lt;stddef.h&amp;gt;#include &amp;lt;stdlib.h&amp;gt;#include &amp;lt;sys/time.h&amp;gt;#include &amp;lt;pthread.h&amp;gt;#include "serial.h"int serport_fd;//POSIX Threads Programming - https://computing.llnl.gov/tutorials/pthreads/#PassingArgumentsstruct write_thread_data{   int  fd;   char* comm; //string to send   int bytesToSend;   int writtenBytes;};void usage(char **argv){    fprintf(stdout, "Usage:\n");     fprintf(stdout, "%s port baudrate file/string\n", argv[0]);     fprintf(stdout, "Examples:\n");     fprintf(stdout, "%s /dev/ttyUSB0 115200 /path/to/somefile.txt\n", argv[0]);     fprintf(stdout, "%s /dev/ttyUSB0 115200 \"some text test\"\n", argv[0]); }// POSIX threads explained - http://www.ibm.com/developerworks/library/l-posix1.html// instead of writeportvoid *write_thread_function(void *arg) {    int lastBytesWritten;    struct write_thread_data *my_data;    my_data = (struct write_thread_data *) arg;    fprintf(stdout, "write_thread_function spawned\n");    my_data-&amp;gt;writtenBytes = 0;     while(my_data-&amp;gt;writtenBytes &amp;lt; my_data-&amp;gt;bytesToSend)    {        lastBytesWritten = write( my_data-&amp;gt;fd, my_data-&amp;gt;comm + my_data-&amp;gt;writtenBytes, my_data-&amp;gt;bytesToSend - my_data-&amp;gt;writtenBytes );           my_data-&amp;gt;writtenBytes += lastBytesWritten;          if ( lastBytesWritten &amp;lt; 0 )         {            fprintf(stdout, "write failed!\n");            return 0;        }        fprintf(stderr, "   write: %d - %d\n", lastBytesWritten, my_data-&amp;gt;writtenBytes);    }    return NULL; //pthread_exit(NULL)}int main( int argc, char **argv ) {    if( argc != 4 ) {         usage(argv);        return 1;     }    char *serport;    char *serspeed;    speed_t serspeed_t;    char *serfstr;    int serf_fd; // if &amp;lt; 0, then serfstr is a string    int sentBytes;     int readChars;    int recdBytes, totlBytes;     char* sResp;    char* sRespTotal;    struct timeval timeStart, timeEnd, timeDelta;    float deltasec, expectBps, measReadBps, measWriteBps;     struct write_thread_data wrdata;    pthread_t myWriteThread;    /* Re: connecting alternative output stream to terminal -     * http://coding.derkeiler.com/Archive/C_CPP/comp.lang.c/2009-01/msg01616.html     * send read output to file descriptor 3 if open,     * else just send to stdout    */    FILE *stdalt;    if(dup2(3, 3) == -1) {        fprintf(stdout, "stdalt not opened; ");        stdalt = fopen("/dev/tty", "w");    } else {        fprintf(stdout, "stdalt opened; ");        stdalt = fdopen(3, "w");    }    fprintf(stdout, "Alternative file descriptor: %d\n", fileno(stdalt));    // Get the PORT name    serport = argv[1];    fprintf(stdout, "Opening port %s;\n", serport);    // Get the baudrate    serspeed = argv[2];    serspeed_t = string_to_baud(serspeed);    fprintf(stdout, "Got speed %s (%d/0x%x);\n", serspeed, serspeed_t, serspeed_t);    //Get file or command;    serfstr = argv[3];    serf_fd = open( serfstr, O_RDONLY );    fprintf(stdout, "Got file/string '%s'; ", serfstr);    if (serf_fd &amp;lt; 0) {        wrdata.bytesToSend = strlen(serfstr);        wrdata.comm = serfstr; //pointer already defined         fprintf(stdout, "interpreting as string (%d).\n", wrdata.bytesToSend);    } else {        struct stat st;        stat(serfstr, &amp;amp;st);        wrdata.bytesToSend = st.st_size;        wrdata.comm = (char *)calloc(wrdata.bytesToSend, sizeof(char));        read(serf_fd, wrdata.comm, wrdata.bytesToSend);        fprintf(stdout, "opened as file (%d).\n", wrdata.bytesToSend);    }    sResp = (char *)calloc(wrdata.bytesToSend, sizeof(char));    sRespTotal = (char *)calloc(wrdata.bytesToSend, sizeof(char));    // Open and Initialise port    serport_fd = open( serport, O_RDWR | O_NOCTTY | O_NONBLOCK );    if ( serport_fd &amp;lt; 0 ) { perror(serport); return 1; }    initport( serport_fd, serspeed_t );    wrdata.fd = serport_fd;    sentBytes = 0; recdBytes = 0;    gettimeofday( &amp;amp;timeStart, NULL );    // start the thread for writing..     if ( pthread_create( &amp;amp;myWriteThread, NULL, write_thread_function, (void *) &amp;amp;wrdata) ) {        printf("error creating thread.");        abort();    }    // run read loop     while ( recdBytes &amp;lt; wrdata.bytesToSend )    {        while ( wait_flag == TRUE );        if ( (readChars = read( serport_fd, sResp, wrdata.bytesToSend)) &amp;gt;= 0 )         {            //~ fprintf(stdout, "InVAL: (%d) %s\n", readChars, sResp);            // binary safe - add sResp chunk to sRespTotal            memmove(sRespTotal+recdBytes, sResp+0, readChars*sizeof(char));            /* // text safe, but not binary:            sResp[readChars] = '\0';             fprintf(stdalt, "%s", sResp);            */            recdBytes += readChars;        } else {            if ( errno == EAGAIN )             {                fprintf(stdout, "SERIAL EAGAIN ERROR\n");                return 0;            }             else             {                fprintf(stdout, "SERIAL read error: %d = %s\n", errno , strerror(errno));                return 0;            }                   }        fprintf(stderr, "   read: %d\n", recdBytes);                wait_flag = TRUE; // was ==        //~ usleep(50000);    }    if ( pthread_join ( myWriteThread, NULL ) ) {        printf("error joining thread.");        abort();    }    gettimeofday( &amp;amp;timeEnd, NULL );    // binary safe - dump sRespTotal to stdalt    fwrite(sRespTotal, sizeof(char), recdBytes, stdalt);    // Close the open port    close( serport_fd );    if (!(serf_fd &amp;lt; 0)) {         close( serf_fd );        free(wrdata.comm);     }     free(sResp);    free(sRespTotal);    fprintf(stdout, "\n+++DONE+++\n");    sentBytes = wrdata.writtenBytes;     totlBytes = sentBytes + recdBytes;    timeval_subtract(&amp;amp;timeDelta, &amp;amp;timeEnd, &amp;amp;timeStart);    deltasec = timeDelta.tv_sec+timeDelta.tv_usec*1e-6;    expectBps = atoi(serspeed)/10.0f;     measWriteBps = sentBytes/deltasec;    measReadBps = recdBytes/deltasec;    fprintf(stdout, "Wrote: %d bytes; Read: %d bytes; Total: %d bytes. \n", sentBytes, recdBytes, totlBytes);    fprintf(stdout, "Start: %ld s %ld us; End: %ld s %ld us; Delta: %ld s %ld us. \n", timeStart.tv_sec, timeStart.tv_usec, timeEnd.tv_sec, timeEnd.tv_usec, timeDelta.tv_sec, timeDelta.tv_usec);    fprintf(stdout, "%s baud for 8N1 is %d Bps (bytes/sec).\n", serspeed, (int)expectBps);    fprintf(stdout, "Measured: write %.02f Bps (%.02f%%), read %.02f Bps (%.02f%%), total %.02f Bps.\n", measWriteBps, (measWriteBps/expectBps)*100, measReadBps, (measReadBps/expectBps)*100, totlBytes/deltasec);    return 0;}&lt;/code&gt;&lt;/pre&gt;</body><title>Serial port loopback/duplex test, in Bash or C? (process substitution)</title><lastedit>1284469351</lastedit><accepted>true</accepted></answer><answer id="3432416"><ownerid>277826</ownerid><questionid>3430445</questionid><creationdate>1281222867</creationdate><lastactivity>1281252071</lastactivity><body>&lt;p&gt;Ok, after reading the &lt;code&gt;gnuplot&lt;/code&gt; help for a bit, it seems that histogram style will ''always'' interpret x axis as sequential entries/categories - so indeed, there seems to be no way to get a numerical axis with a histogram style. &lt;/p&gt;&lt;p&gt;However, it turns out that &lt;code&gt;$&lt;/code&gt; can refer to a column, and those can be used to actually 'reposition' the bars in the second (&lt;code&gt;frequency with boxes&lt;/code&gt; style) example; so with this code as &lt;code&gt;hist-v2b.gplot&lt;/code&gt;: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;set xlabel "X values"set ylabel "Occurence"set style fill solid border -1set term pngset output 'hist-v2.png'set boxwidth 0.9set xr [330:400]# here, setting xtics makes them positioned numerically on x axis:set xtics ("332" 332, "336" 336, "340" 340, "394" 394, "398" 398, "1036" 1036)  # 1:2 will ONLY work with proper xr; since we have x&amp;gt;300; xr[0:10] generates "points y value undefined"!plot 'data.dat' using ($1-0.5):2 ti col smooth frequency with boxes, '' u ($1-0.25):3 ti col smooth frequency with boxes, '' u ($1+0.25):4 ti col smooth frequency with boxes, '' u ($1+0.5):5 ti col smooth frequency with boxes&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And by calling:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;gnuplot hist-v2b.gplot &amp;amp;&amp;amp; eog hist-v2b.png&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;this image is generated:&lt;img src="http://img823.imageshack.us/img823/805/histv2b.png" alt="image hist-v2b.png"&gt;&lt;/p&gt;&lt;p&gt;... which is pretty much what I wanted in the first place.&lt;/p&gt;&lt;p&gt;Just a small note - I originally wanted to use the script with inline data; for a setup like this, it would have to be written as&lt;/p&gt;&lt;pre&gt;&lt;code&gt;plot '-' using ($1-0.5):2 ti col smooth frequency with boxes, '-' u ($1-0.25):3 ti col smooth frequency with boxesXstep Y1 Y2 Y3 Y4332 1.22 0.00 0.00 1.43336 5.95 12.03 6.11 10.41340 81.05 81.82 81.92 81.05394 11.76 6.16 10.46 5.87398 0.00 0.00 1.51 1.251036 0.03 0.00 0.00 0.00endXstep Y1 Y2 Y3 Y4332 1.22 0.00 0.00 1.43336 5.95 12.03 6.11 10.41340 81.05 81.82 81.92 81.05394 11.76 6.16 10.46 5.87398 0.00 0.00 1.51 1.251036 0.03 0.00 0.00 0.00end&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;... that is, the data would have to be entered multiple times, as it comes in from stdin - this problem is discussed in &lt;a href="http://www.linuxquestions.org/questions/linux-software-2/gnuplot-do-multiple-plots-from-data-file-with-built-in-commands-659156/" rel="nofollow"&gt;gnuplot - do multiple plots from data file with built-in commands&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;&lt;p&gt;PS: As there is quite a bit of space on the diagram, it would be nice if we could somehow specify separate x-axis ranges; that is discussed in:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://gnuplot-tricks.blogspot.com/2009/05/gnuplot-tricks-many-say-that-it-is.html" rel="nofollow"&gt;Gnuplot tricks&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://gnuplot-tricks.blogspot.com/2009/06/broken-axis-revisited.html" rel="nofollow"&gt;Gnuplot tricks: Broken axis revisited&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</body><title>Histogram with numeric x-axis in gnuplot?</title><lastedit>1281252071</lastedit><accepted>true</accepted></answer><answer id="3312105"><ownerid>277826</ownerid><questionid>3311182</questionid><creationdate>1279823236</creationdate><lastactivity>1279957330</lastactivity><body>&lt;p&gt;Hi all, &lt;/p&gt;&lt;p&gt;Just wanted to say - thanks for all your good and incredibly fast answers, helped me a lot to understand the problem (of why there isn't such a 'native' function in C)! &lt;/p&gt;&lt;p&gt;(&lt;em&gt;and sorry for answering my own question - doing that, so as not to garble the original post, and being able to format code&lt;/em&gt;)&lt;/p&gt;&lt;p&gt;While looking further I managed to find:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/17965/generate-a-core-dump-in-linux"&gt;generate a core dump in linux - Stack Overflow&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a href="http://groups.google.com/group/mlist.linux.kernel/msg/7f8a9393cde343d1" rel="nofollow"&gt;just-in-time debugging? - mlist.linux.kernel | Google Groups&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;which illustrate the trick with calling &lt;code&gt;gdb&lt;/code&gt; with the pid of the process itself, and so I modified the &lt;code&gt;dumpstack&lt;/code&gt; function found there, to get the following code:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;FN=mtestcat &amp;gt; $FN.c &amp;lt;&amp;lt;EOF#include &amp;lt;stdio.h&amp;gt; //printf#include &amp;lt;stdlib.h&amp;gt; //calloc, systemextern const char *__progname;struct person{    int age;     int height; };static struct person *johndoe;static char report[255]; static void printout_struct(void* invar, char* structname){    /* dumpstack(void) Got this routine from http://www.whitefang.com/unix/faq_toc.html    ** Section 6.5. Modified to redirect to file to prevent clutter    */    /* This needs to be changed... */    char dbx[160];    sprintf(dbx, "echo 'p (struct %s)*%p\n' &amp;gt; gdbcmds", structname, invar );    system(dbx);    sprintf(dbx, "echo 'where\ndetach' | gdb -batch --command=gdbcmds %s %d &amp;gt; struct.dump", __progname, getpid() );    system(dbx);    sprintf(dbx, "cat struct.dump");    system(dbx);    return;}main (){    johndoe = (struct person *)calloc(1, sizeof(struct person));    johndoe-&amp;gt;age = 6;     printout_struct(johndoe, "person");     johndoe-&amp;gt;age = 8;     printout_struct(johndoe, "person");     printf("Hello World - age: %d\n:", johndoe-&amp;gt;age);    free(johndoe);}EOFgcc -g -O0 $FN.c -o $FN./$FN&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;which basically ends up displaying what I wanted:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;0x00740422 in __kernel_vsyscall ()$1 = {age = 6, height = 0}0x00740422 in __kernel_vsyscall ()$1 = {age = 8, height = 0}Hello World - age: 8&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;Though, I'm not sure it will work with kernel modules ... &lt;/p&gt;&lt;p&gt;Thanks again for the help, &lt;br/&gt;Cheers!&lt;/p&gt;&lt;p&gt;EDIT: The reason why I don't think it will work for kernel modules, is that in this case, we have a userland program with a process ID; and we simply call &lt;code&gt;gdb&lt;/code&gt; from this program, while instructing it about our PID - so &lt;code&gt;gdb&lt;/code&gt; can "attach" to our process; then, since &lt;code&gt;gdb&lt;/code&gt; is also instructed to load the executable with debug symbols (so it will 'know' what the struct is), and instructed about the address where a given struct variable is located, &lt;code&gt;gdb&lt;/code&gt; can then printout the struct. &lt;/p&gt;&lt;p&gt;For kernel modules - first I don't think they are 'processes' in the sense of having a unique PID, so &lt;code&gt;gdb&lt;/code&gt; will have nothing to attach to! In fact, there is a kernel debugger, &lt;a href="http://en.wikipedia.org/wiki/KGDB" rel="nofollow"&gt;kgdb&lt;/a&gt; which can in fact break into a running kernel and step through &lt;em&gt;module&lt;/em&gt; source code; however, you need a second machine connected through a serial connection for that - or a virtual machine, see &lt;a href="http://linux-hacks.blogspot.com/2008/05/setting-up-kgdb-using-kvmqemu.html" rel="nofollow"&gt;Linux Hacks: Setting up kgdb using kvm/qemu&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;So, in any case, it seems that &lt;code&gt;gdb&lt;/code&gt; would not be able to inspect memory of the currently running host kernel &lt;code&gt;gdb&lt;/code&gt; is running in - but I'll try to experiment, and if the experiments show otherwise, I'll be sure to post :) &lt;/p&gt;</body><title>Linux C: Easy &amp; 'pretty' dump/printout of structs (like in gdb) - from source code?</title><lastedit>1279957330</lastedit><accepted>true</accepted></answer><answer id="3311374"><ownerid>67022</ownerid><questionid>3311182</questionid><creationdate>1279818088</creationdate><lastactivity>1279818088</lastactivity><body>&lt;p&gt;See &lt;a href="http://stackoverflow.com/questions/3294010/a-way-to-find-the-size-and-location-of-padding-in-a-struct/"&gt;this related question&lt;/a&gt; for some info on parsing structs. Specifically my reference there to &lt;a href="http://perldoc.perl.org/pstruct.html" rel="nofollow"&gt;pstruct&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;In your case, where you want to get info from inside a running program, you'd have to either invoke one of those external tools, or parse out the debug info from your executable and display it appropriately.&lt;/p&gt;&lt;p&gt;You might also look at &lt;a href="http://www.cs.utah.edu/dept/old/texinfo/libgdb/libgdb.html" rel="nofollow"&gt;libgdb&lt;/a&gt;, though it looks like it might be somewhat dated.&lt;/p&gt;</body><title>Linux C: Easy &amp; 'pretty' dump/printout of structs (like in gdb) - from source code?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="2781546"><ownerid>324528</ownerid><questionid>2781297</questionid><creationdate>1273153002</creationdate><lastactivity>1273153002</lastactivity><body>&lt;p&gt;If you just want to be able to receive multiple lines, rather than exiting after one, this is simple.  You just need to place a loop around your read/write code, like so (quick and dirty):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;while( 1 ) {    numread = read(rdfd, buf, MAX_BUF_SIZE);    fprintf(stderr, "Full Duplex Server : Read From the pipe : %sn", buf);    /* Convert to the string to upper case */    count = 0;    while (count &amp;lt; numread) {        buf[count] = toupper(buf[count]);        count++;    }    /*     * Write the converted string back to the second     * pipe     */    write(wrfd, buf, strlen(buf));}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Of course, now you have an application which will never exit, and will start doing nothing as soon as it gets an EOF, etc.  So, you can reorganize it to check for errors:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;numread = read(rdfd, buf, MAX_BUF_SIZE);while( numread &amp;gt; 0) {    /* ... etc ... */    numread = read(rdfd,buf, MAX_BUF_SIZE);}if( numread == 0 )  {    /* ... handle eof ... */}if( numread &amp;lt; 0 ) {    /* ... handle io error ... */} &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;From the man page, read returns 0 for EOF and -1 for an error (you have read the man page, right?  &lt;a href="http://linux.die.net/man/2/read" rel="nofollow"&gt;http://linux.die.net/man/2/read&lt;/a&gt; ).  So what this does is keeps on grabbing bytes from the read pipe until it reaches EOF or some error, in which case you (probably) print a message and exit.  That said, you might just do a reopen when you get an EOF so you can get more input.&lt;/p&gt;&lt;p&gt;Once you've modified your program to read continuously, entering multiple lines interactively is simple.  Just execute:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;cat - &amp;gt; /tmp/np1&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The '-' explicitly tells cat to read from stdin (this is the default, so you don't actually need the dash).  So cat will pass everything you enter on to your pipe program.  You can insert an EOF using Ctrl+D, which will cause cat to stop reading stdin.  What happens to your pipe program depends on how you handle the EOF in your read loop.&lt;/p&gt;&lt;p&gt;Now, if you want another program that does all the io, without cat, (so you end up with a stdio echo program), the pseudocode is going to look sort of like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;const int stdin_fd = 0;  // known unix constant!int readpipe_fd = open the read pipe, as before int writepipe_fd =  open the write pipe, as before read stdin into bufferwhile( stdin is reading correctly ) {     write data from stdin to read pipe         check write is successful     read write pipe into buffer         check read is successful     write buffer to stdout (fprintf is fine)     read stdin into buffer.}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can use the read system call to read stdin if you feel like it, but you can also just use stdio.  Reading, writing, and opening your pipes should all be identical to your server program, except read/write is all reversed.&lt;/p&gt;</body><title>Linux C: "Interactive session" with separate read and write named pipes?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="2780161"><ownerid>69307</ownerid><questionid>2780051</questionid><creationdate>1273140034</creationdate><lastactivity>1273140034</lastactivity><body>&lt;p&gt;Standard input is a buffered stream. The select() call will not be able to detect that there is input available until the newline is hit at the end of the input. You can't use select() like this to read individual keystrokes.&lt;/p&gt;</body><title>Linux C select: piping echo to input works, but reading from keyboard doesn't?</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="2518878"><ownerid>236455</ownerid><questionid>2518833</questionid><creationdate>1269546608</creationdate><lastactivity>1269546914</lastactivity><body>&lt;p&gt;The correct escape character in Lua is %, so what you tried should work, I just tried&lt;/p&gt;&lt;pre&gt;&lt;code&gt;local sel = [[a\left(b_{d}\right)]]local cln3 = string.gsub(sel, "\\left%(", " \\left( ")local cln4 = string.gsub(cln3, "\\right%)", " \\right) ")print (cln4)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and got&lt;/p&gt;&lt;pre&gt;&lt;code&gt;a \left( b_{d} \right) &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;so, this worked for me when I tried it, what did you get as a match when you tried %&lt;/p&gt;</body><title>Scite Lua - escaping right bracket in regex?</title><lastedit>1269546914</lastedit><accepted>false</accepted></answer><answer id="4124681"><ownerid>134633</ownerid><questionid>4122690</questionid><creationdate>1289226085</creationdate><lastactivity>1289226085</lastactivity><body>&lt;p&gt;It sounds like you're trying to implement "Mental Poker" (or if not, you should look up the research into it, since it's analagous to your problem).&lt;/p&gt;&lt;p&gt;The SRA algorithm has the properties you desire.  It's a bit hard to find information on, but it is essentially just RSA except that &lt;em&gt;both&lt;/em&gt; the &lt;code&gt;e&lt;/code&gt; and &lt;code&gt;d&lt;/code&gt; exponents are kept secret.  Trivially:&lt;/p&gt;&lt;p&gt;(P&lt;sup&gt;e1&lt;/sup&gt;)&lt;sup&gt;e2&lt;/sup&gt; == (P&lt;sup&gt;e2&lt;/sup&gt;)&lt;sup&gt;e1&lt;/sup&gt;&lt;/p&gt;</body><title>A commutative cipher?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="3225496"><ownerid>310574</ownerid><questionid>3222810</questionid><creationdate>1278901471</creationdate><lastactivity>1278906205</lastactivity><body>&lt;p&gt;Here's a Perl command line:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;perl -e "print sort {(split '/', $a)[-1] &amp;lt;=&amp;gt; (split '/', $b)[-1]} &amp;lt;&amp;gt;"&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Just pipe the list into it or, if the list is in a file, put the filename at the end of the command line.&lt;/p&gt;&lt;p&gt;Note that this script does not actually change the data, so you don't have to be careful about what delimeter you use.&lt;/p&gt;&lt;p&gt;Here's sample output:&lt;/p&gt;&lt;pre&gt;&gt;perl -e "print sort {(split '/', $a)[-1] &amp;lt;=&gt; (split '/', $b)[-1]} " files.txt/a/e/f/g/h/01-do-this-first/a/b/c/10-foo/a/b/c/20-bar/a/d/30-bob/a/b/c/50-baz/a/e/f/g/h/99-local&lt;/pre&gt;</body><title>Sorting on the last field of a line</title><lastedit>1278906205</lastedit><accepted>true</accepted></answer><answer id="3225451"><ownerid>23744</ownerid><questionid>3222810</questionid><creationdate>1278900171</creationdate><lastactivity>1278900769</lastactivity><body>&lt;p&gt;Replace the last delimiter on the line with another delimiter that does not otherwise appear in the list, sort on the second field using that other delimiter as the sort(1) delimiter, and then revert the delimiter change.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;delim=/new_delim=" "cat $list \| sed "s|\(.*\)$delim|\1$new_delim|" \| sort -t"$new_delim" -k 2,2 \| sed "s|$new_delim|$delim|"&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The problem is knowing what delimiter to use that does not appear in the list. You can make multiple passes over the list and then grep for a succession of potential delimiters, but it's all rather nasty - particularly when the concept of "sort on the last field of a line" is so simply expressed, yet the solution is not.&lt;/p&gt;&lt;p&gt;Edit: One safe delimiter to use for $new_delim is NUL since that cannot appear in filenames, but I don't know how to put a NUL character into a bourne/POSIX shell script (not bash) and whether sort and sed will properly handle it.&lt;/p&gt;</body><title>Sorting on the last field of a line</title><lastedit>1278900769</lastedit><accepted>false</accepted></answer><answer id="3034596"><ownerid>127565</ownerid><questionid>3034567</questionid><creationdate>1276478878</creationdate><lastactivity>1276478878</lastactivity><body>&lt;p&gt;Check if 'fgconsole' does what you need. Seems to work for me (eg, returns 7 and I'm currently in X)&lt;/p&gt;</body><title>How do I find the current virtual terminal</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="2711767"><ownerid>50049</ownerid><questionid>2711426</questionid><creationdate>1272267526</creationdate><lastactivity>1272299263</lastactivity><body>&lt;p&gt;The problem is (as you said) syslogd. While your process is running at a RT priority, syslogd is &lt;em&gt;not&lt;/em&gt;. Additionally, syslogd does not lock its heap and can (and will) be paged out by the kernel, especially with very few 'customers'.&lt;/p&gt;&lt;p&gt;What you could try is:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Start another thread to manage a priority queue, have that thread talk to syslog. Logging would then just be acquiring a lock and inserting something into a list. Given only two subscribers, you should not spend a lot of time acquiring the mutex.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Not using syslog, implement your own logging (basically the first suggestion, minus talking to syslog).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;I had a similar problem and my first attempt to fix it was to modify syslogd itself to lock its heap. That was a disaster. I then tried rsyslogd, which improved some but I still got random latency peaks. I ended up just implementing my own logging using a priority queue to help ensure that more critical messages were actually written first.&lt;/p&gt;&lt;p&gt;Note, if you are not using swap (at all), the shortest path to fixing this is probably implementing your own logging.&lt;/p&gt;</body><title>Finding latency issues (stalls) in embedded Linux systems</title><lastedit>1272299263</lastedit><accepted>false</accepted></answer><answer id="1437224"><ownerid>95382</ownerid><questionid>176989</questionid><creationdate>1253172277</creationdate><lastactivity>1253172277</lastactivity><body>&lt;p&gt;Strange, nobody, including Stroustroup mentioned that. While talking a lot about standards and aesthetics nobody noticed that it is &lt;em&gt;dangerous&lt;/em&gt; to use &lt;code&gt;0&lt;/code&gt; in &lt;code&gt;NULL&lt;/code&gt;'s stead, for instance, in variable argument list on the architecture where &lt;code&gt;sizeof(int) != sizeof(void*)&lt;/code&gt;. Like Stroustroup, I prefer &lt;code&gt;0&lt;/code&gt; for aesthetic reasons, but one has to be careful not to use it where its type might be ambiguous.&lt;/p&gt;</body><title>Do you use NULL or 0 (zero) for pointers in C++?</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="211080"><ownerid>25222</ownerid><questionid>211055</questionid><creationdate>1224217664</creationdate><lastactivity>1224217664</lastactivity><body>&lt;p&gt;Use the POSIX &lt;code&gt;clock_gettime()&lt;/code&gt; function with &lt;code&gt;CLOCK_MONOTONIC&lt;/code&gt;.  See the &lt;a href="http://linux.die.net/man/3/clock_gettime" rel="nofollow"&gt;man page&lt;/a&gt; for details.&lt;/p&gt;</body><title>Does Linux provide a monotonically increasing clock to applications</title><lastedit>-1</lastedit><accepted>true</accepted></answer><answer id="211077"><ownerid>4761</ownerid><questionid>211055</questionid><creationdate>1224217479</creationdate><lastactivity>1224217479</lastactivity><body>&lt;p&gt;There is clock_gettime:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;struct timespec tp;clock_gettime(CLOCK_MONOTONIC, &amp;amp;tp);&lt;/code&gt;&lt;/pre&gt;</body><title>Does Linux provide a monotonically increasing clock to applications</title><lastedit>-1</lastedit><accepted>false</accepted></answer><answer id="177007"><ownerid>9936</ownerid><questionid>176989</questionid><creationdate>1223346098</creationdate><lastactivity>1223346098</lastactivity><body>&lt;p&gt;Here's Stroustrup's take on this:&lt;a href="http://www.research.att.com/~bs/bs_faq2.html#null" rel="nofollow"&gt;http://www.research.att.com/~bs/bs_faq2.html#null&lt;/a&gt;&lt;/p&gt;&lt;p&gt;That said, don't sweat the small stuff.&lt;/p&gt;</body><title>Do you use NULL or 0 (zero) for pointers in C++?</title><lastedit>-1</lastedit><accepted>true</accepted></answer></answers></QA>